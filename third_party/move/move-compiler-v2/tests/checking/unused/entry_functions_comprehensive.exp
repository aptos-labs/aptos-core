
Diagnostics:
warning: Function `0x42::m::never_called` is unused: it has no current callers and is private to its module.
   ┌─ tests/checking/unused/entry_functions_comprehensive.move:24:9
   │
24 │     fun never_called() {
   │         ^^^^^^^^^^^^

warning: Function `0x42::m::spec_only_function` is unused: it has no current callers and is private to its module.
   ┌─ tests/checking/unused/entry_functions_comprehensive.move:45:9
   │
45 │     fun spec_only_function(): u64 {
   │         ^^^^^^^^^^^^^^^^^^

// -- Model dump before first bytecode pipeline
module 0x42::m {
    struct Resource {
        value: u64,
    }
    private fun add_one(value: &mut u64) {
        value = Add<u64>(Deref(value), 1);
        Tuple()
    }
    private entry fun complex_entry(account: &signer,x: u64)
        acquires Resource(*)
     {
        if Gt<u64>(x, 0) {
          m::init_resource(account);
          Tuple()
        } else {
          {
            let addr: address = signer::address_of(account);
            if exists<Resource>(addr) {
              {
                let m::Resource{ value: _ } = MoveFrom<Resource>(addr);
                Tuple()
              }
            } else {
              Tuple()
            };
            Tuple()
          }
        };
        Tuple()
    }
    private entry fun increment(account: &signer)
        acquires Resource(*)
     {
        {
          let addr: address = signer::address_of(account);
          {
            let resource: &mut Resource = BorrowGlobal(Mutable)<Resource>(addr);
            m::add_one(Borrow(Mutable)(select m::Resource.value<&mut Resource>(resource)));
            Tuple()
          }
        }
    }
    private entry fun init_resource(account: &signer) {
        MoveTo<Resource>(account, pack m::Resource(0));
        Tuple()
    }
    private fun never_called() {
        Tuple()
    }
    public entry fun public_init(account: &signer) {
        MoveTo<Resource>(account, pack m::Resource(100));
        Tuple()
    }
    private fun spec_only_function(): u64 {
        42
    }
    spec fun spec_helper(): u64 {
        m::$spec_only_function()
    }
    spec fun $spec_only_function(): u64 {
        42
    }
} // end 0x42::m

// -- Sourcified model before first bytecode pipeline
module 0x42::m {
    struct Resource has key {
        value: u64,
    }
    fun add_one(value: &mut u64) {
        *value = *value + 1;
    }
    entry fun complex_entry(account: &signer, x: u64)
        acquires Resource
    {
        if (x > 0) {
            init_resource(account);
        } else {
            let addr = 0x1::signer::address_of(account);
            if (exists<Resource>(addr)) {
                let Resource{value: _} = move_from<Resource>(addr);
            };
        };
    }
    entry fun increment(account: &signer)
        acquires Resource
    {
        let addr = 0x1::signer::address_of(account);
        let resource = borrow_global_mut<Resource>(addr);
        add_one(&mut resource.value);
    }
    entry fun init_resource(account: &signer) {
        move_to<Resource>(account, Resource{value: 0});
    }
    fun never_called() {
    }
    public entry fun public_init(account: &signer) {
        move_to<Resource>(account, Resource{value: 100});
    }
    fun spec_only_function(): u64 {
        42
    }
}
