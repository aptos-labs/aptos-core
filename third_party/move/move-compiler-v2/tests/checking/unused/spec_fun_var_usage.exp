
Diagnostics:
warning: Struct `ReallyUnused` is unused in its defining module (only place where it can be packed, unpacked, or have fields accessed). Consider removing it or adding the `#[deprecated]` attribute to suppress this warning.
  ┌─ tests/checking/unused/spec_fun_var_usage.move:9:5
  │
9 │     struct ReallyUnused has drop { data: u64 }
  │     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

// -- Model dump before first bytecode pipeline
module 0x42::m {
    struct ReallyUnused {
        data: u64,
    }
    struct UsedInSpecFun {
        value: u64,
    }
    struct UsedInSpecVar {
        count: u64,
    }
    struct Ghost$counter {
        v: UsedInSpecVar,
    }
    struct Ghost$initialized {
        v: UsedInSpecFun,
    }
    public fun test_function(x: u64): u64 {
        Add<u64>(x, 1)
    }
    spec {
      ensures Eq<u64>(result0(), m::helper_spec_fun($t0));
    }

    spec fun helper_spec_fun(val: u64): u64 {
        {
          let s: 0x42::m::UsedInSpecFun = pack m::UsedInSpecFun(val);
          Add(select m::UsedInSpecFun.value<0x42::m::UsedInSpecFun>(s), 1)
        }
    }
    spec fun process_data(data: UsedInSpecVar): u64 {
        select m::UsedInSpecVar.count<0x42::m::UsedInSpecVar>(data)
    }
} // end 0x42::m

// -- Sourcified model before first bytecode pipeline
module 0x42::m {
    struct ReallyUnused has drop {
        data: u64,
    }
    struct UsedInSpecFun has drop {
        value: u64,
    }
    struct UsedInSpecVar has drop {
        count: u64,
    }
    struct Ghost_counter has copy, drop, store, key {
        v: UsedInSpecVar,
    }
    struct Ghost_initialized has copy, drop, store, key {
        v: UsedInSpecFun,
    }
    public fun test_function(x: u64): u64 {
        x + 1
    }
}
