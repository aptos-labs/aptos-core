
Diagnostics:
warning: Struct `TrulyUnused1` is unused in its defining module (only place where it can be packed, unpacked, or have fields accessed). Consider removing it or adding the `#[deprecated]` attribute to suppress this warning.
    ┌─ tests/checking/unused/spec_usage_edge_cases.move:99:5
    │
 99 │ ╭     struct TrulyUnused1 has copy, drop {
100 │ │         unused: u64
101 │ │     }
    │ ╰─────^

warning: Struct `TrulyUnused2` is unused in its defining module (only place where it can be packed, unpacked, or have fields accessed). Consider removing it or adding the `#[deprecated]` attribute to suppress this warning.
    ┌─ tests/checking/unused/spec_usage_edge_cases.move:103:5
    │
103 │ ╭     struct TrulyUnused2 has key {
104 │ │         also_unused: u64
105 │ │     }
    │ ╰─────^

warning: Constant `TRULY_UNUSED_CONST` is unused.
    ┌─ tests/checking/unused/spec_usage_edge_cases.move:107:5
    │
107 │     const TRULY_UNUSED_CONST: u64 = 123;
    │     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

// -- Model dump before first bytecode pipeline
module 0x42::m {
    spec {
      invariant update forall addr: address: TypeDomain<address>(): Implies(exists<0x42::m::MultiSpecStruct>(addr), Le(select m::MultiSpecStruct.value<0x42::m::MultiSpecStruct>(global<0x42::m::MultiSpecStruct>(addr)), 999));
    }

    struct AbortsStruct {
        code: u64,
    }
    struct FirstStruct {
        a: u64,
    }
    struct InlineSpecStruct {
        data: u64,
    }
    struct ModifiesStruct {
        x: u64,
    }
    struct MultiSpecStruct {
        value: u64,
    }
    struct SecondStruct {
        b: u64,
    }
    struct TrulyUnused1 {
        unused: u64,
    }
    struct TrulyUnused2 {
        also_unused: u64,
    }
    public fun another_func(y: u64): u64 {
        y
    }
    spec {
      ensures Or(Eq<u64>(result0(), $t0), exists<0x42::m::MultiSpecStruct>(0x42));
    }

    public fun another_inline_spec(): u64 {
        spec {
          assert Gt(777, 0);
        }
        ;
        100
    }
    public fun func_multi_struct(): u64 {
        0
    }
    spec {
      requires exists<0x42::m::FirstStruct>(0x1);
      requires exists<0x42::m::SecondStruct>(0x2);
      ensures Eq<u64>(result0(), 0);
    }

    public fun func_using_const(z: u64): u64 {
        z
    }
    spec {
      ensures Le(result0(), 999);
      aborts_if Gt($t0, 999);
    }

    public fun func_with_aborts(): u64 {
        0
    }
    spec {
      aborts_if Not(exists<0x42::m::AbortsStruct>(0x42));
    }

    public fun func_with_inline_spec(): u64 {
        spec {
          assert exists<0x42::m::InlineSpecStruct>(0x42);
        }
        ;
        42
    }
    public fun func_with_modifies() {
        Tuple()
    }
    spec {
      modifies global<0x42::m::ModifiesStruct>(0x42);
    }

    public fun func_with_spec(x: u64): u64 {
        x
    }
    spec {
      requires exists<0x42::m::MultiSpecStruct>(0x42);
    }

} // end 0x42::m

// -- Sourcified model before first bytecode pipeline
module 0x42::m {
    struct AbortsStruct has key {
        code: u64,
    }
    struct FirstStruct has copy, drop {
        a: u64,
    }
    struct InlineSpecStruct has copy, drop {
        data: u64,
    }
    struct ModifiesStruct has key {
        x: u64,
    }
    struct MultiSpecStruct has copy, drop, key {
        value: u64,
    }
    struct SecondStruct has copy, drop {
        b: u64,
    }
    struct TrulyUnused1 has copy, drop {
        unused: u64,
    }
    struct TrulyUnused2 has key {
        also_unused: u64,
    }
    public fun another_func(y: u64): u64 {
        y
    }
    public fun another_inline_spec(): u64 {

        /* spec {
          assert Gt(777, 0);
        }
         */
        ;
        100
    }
    public fun func_multi_struct(): u64 {
        0
    }
    public fun func_using_const(z: u64): u64 {
        z
    }
    public fun func_with_aborts(): u64 {
        0
    }
    public fun func_with_inline_spec(): u64 {

        /* spec {
          assert exists<0x42::m::InlineSpecStruct>(0x42);
        }
         */
        ;
        42
    }
    public fun func_with_modifies() {
    }
    public fun func_with_spec(x: u64): u64 {
        x
    }
}
