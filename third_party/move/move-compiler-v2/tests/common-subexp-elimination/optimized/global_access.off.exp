
============ disassembled file-format ==================
// Bytecode version v9
module 0x99::GlobalAccess
use 0x1::signer
struct S has key
  val: u64

struct S1 has drop + key
  val: u64

// Function definition at index 0
fun dummy_func(): vector<u8>
    vec_pack <u8>, 0
    ret

// Function definition at index 1
fun move_from_S1(l0: &signer): S1 acquires S1
    move_loc l0
    call signer::address_of
    move_from S1
    ret

// Function definition at index 2
fun test_existence_check(l0: &signer): bool acquires S
    local l1: &S
    local l2: bool
    copy_loc l0
    call signer::address_of
    exists S
    copy_loc l0
    call signer::address_of
    // @5
    borrow_global S
    pop
    move_loc l0
    call signer::address_of
    exists S
    // @10
    st_loc l2
    br_false l0
    move_loc l2
    ret
l0: ld_false
    // @15
    ret

// Function definition at index 3
fun test_global_borrow(l0: &signer): u64 acquires S
    local l1: &S
    copy_loc l0
    call signer::address_of
    borrow_global S
    move_loc l0
    call signer::address_of
    // @5
    borrow_global S
    st_loc l1
    borrow_field S, val
    read_ref
    move_loc l1
    // @10
    borrow_field S, val
    read_ref
    add
    ret

// Function definition at index 4
fun test_global_borrow_v2(l0: &signer): u64 acquires S, S1
    local l1: &S
    copy_loc l0
    call signer::address_of
    borrow_global S
    copy_loc l0
    call signer::address_of
    // @5
    move_from S1
    pop
    move_loc l0
    call signer::address_of
    borrow_global S
    // @10
    st_loc l1
    borrow_field S, val
    read_ref
    move_loc l1
    borrow_field S, val
    // @15
    read_ref
    add
    ret

// Function definition at index 5
fun test_global_borrow_v3(l0: &signer): u64 acquires S, S1
    local l1: &S
    copy_loc l0
    call signer::address_of
    borrow_global S
    copy_loc l0
    call move_from_S1
    // @5
    pop
    move_loc l0
    call signer::address_of
    borrow_global S
    st_loc l1
    // @10
    borrow_field S, val
    read_ref
    move_loc l1
    borrow_field S, val
    read_ref
    // @15
    add
    ret

// Function definition at index 6
fun test_global_borrow_v4(l0: &signer): u64 acquires S
    local l1: &S
    copy_loc l0
    call signer::address_of
    borrow_global S
    call dummy_func
    pop
    // @5
    move_loc l0
    call signer::address_of
    borrow_global S
    st_loc l1
    borrow_field S, val
    // @10
    read_ref
    move_loc l1
    borrow_field S, val
    read_ref
    add
    // @15
    ret


============ bytecode verification succeeded ========
