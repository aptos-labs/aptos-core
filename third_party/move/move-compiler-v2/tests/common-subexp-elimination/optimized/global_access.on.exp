============ bytecode before first stackless bytecode pipeline ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
  0: $t3 := signer::address_of($t0)
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: $t7 := signer::address_of($t0)
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
  6: if ($t2) goto 7 else goto 10
  7: label L0
  8: $t1 := infer($t6)
  9: goto 12
 10: label L1
 11: $t1 := false
 12: label L2
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  5: $t6 := read_ref($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
  7: $t8 := read_ref($t9)
  8: $t1 := +($t6, $t8)
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  4: $t7 := signer::address_of($t0)
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  7: $t8 := read_ref($t9)
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
  9: $t10 := read_ref($t11)
 10: $t1 := +($t8, $t10)
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}

============ after SplitCriticalEdgesProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
  0: $t3 := signer::address_of($t0)
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: $t7 := signer::address_of($t0)
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
  6: if ($t2) goto 7 else goto 10
  7: label L0
  8: $t1 := infer($t6)
  9: goto 12
 10: label L1
 11: $t1 := false
 12: label L2
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  5: $t6 := read_ref($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
  7: $t8 := read_ref($t9)
  8: $t1 := +($t6, $t8)
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  4: $t7 := signer::address_of($t0)
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  7: $t8 := read_ref($t9)
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
  9: $t10 := read_ref($t11)
 10: $t1 := +($t8, $t10)
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}

============ after uninitialized_use_checker: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
  0: $t3 := signer::address_of($t0)
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: $t7 := signer::address_of($t0)
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
  6: if ($t2) goto 7 else goto 10
  7: label L0
  8: $t1 := infer($t6)
  9: goto 12
 10: label L1
 11: $t1 := false
 12: label L2
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  5: $t6 := read_ref($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
  7: $t8 := read_ref($t9)
  8: $t1 := +($t6, $t8)
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  4: $t7 := signer::address_of($t0)
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  7: $t8 := read_ref($t9)
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
  9: $t10 := read_ref($t11)
 10: $t1 := +($t8, $t10)
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t0, $t2, $t5
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t0, $t2
  4: $t7 := signer::address_of($t0)
     # live vars: $t2, $t7
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
  6: if ($t2) goto 7 else goto 10
     # live vars: $t6
  7: label L0
     # live vars: $t6
  8: $t1 := infer($t6)
     # live vars: $t1
  9: goto 12
     # live vars: $t6
 10: label L1
     # live vars:
 11: $t1 := false
     # live vars: $t1
 12: label L2
     # live vars: $t1
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t2, $t5
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2, $t4
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t4, $t7
  5: $t6 := read_ref($t7)
     # live vars: $t4, $t6
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
     # live vars: $t6, $t9
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
  8: $t1 := +($t6, $t8)
     # live vars: $t1
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t0, $t2, $t5
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t0, $t2
  4: $t7 := signer::address_of($t0)
     # live vars: $t2, $t7
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t6, $t9
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
     # live vars: $t8, $t11
  9: $t10 := read_ref($t11)
     # live vars: $t8, $t10
 10: $t1 := +($t8, $t10)
     # live vars: $t1
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t0, $t2
  3: $t6 := signer::address_of($t0)
     # live vars: $t2, $t6
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
  9: $t1 := +($t7, $t9)
     # live vars: $t1
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t0, $t2
  3: $t6 := signer::address_of($t0)
     # live vars: $t2, $t6
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
  9: $t1 := +($t7, $t9)
     # live vars: $t1
 10: return $t1
}

============ after UnusedAssignmentChecker: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t0, $t2, $t5
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t0, $t2
  4: $t7 := signer::address_of($t0)
     # live vars: $t2, $t7
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
  6: if ($t2) goto 7 else goto 10
     # live vars: $t6
  7: label L0
     # live vars: $t6
  8: $t1 := infer($t6)
     # live vars: $t1
  9: goto 12
     # live vars: $t6
 10: label L1
     # live vars:
 11: $t1 := false
     # live vars: $t1
 12: label L2
     # live vars: $t1
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t2, $t5
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2, $t4
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t4, $t7
  5: $t6 := read_ref($t7)
     # live vars: $t4, $t6
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
     # live vars: $t6, $t9
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
  8: $t1 := +($t6, $t8)
     # live vars: $t1
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t0, $t2, $t5
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t0, $t2
  4: $t7 := signer::address_of($t0)
     # live vars: $t2, $t7
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t6, $t9
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
     # live vars: $t8, $t11
  9: $t10 := read_ref($t11)
     # live vars: $t8, $t10
 10: $t1 := +($t8, $t10)
     # live vars: $t1
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t0, $t2
  3: $t6 := signer::address_of($t0)
     # live vars: $t2, $t6
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
  9: $t1 := +($t7, $t9)
     # live vars: $t1
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t0, $t2
  3: $t6 := signer::address_of($t0)
     # live vars: $t2, $t6
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
  9: $t1 := +($t7, $t9)
     # live vars: $t1
 10: return $t1
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t0, $t2, $t5
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t0, $t2
  4: $t7 := signer::address_of($t0)
     # live vars: $t2, $t7
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
  6: if ($t2) goto 7 else goto 10
     # live vars: $t6
  7: label L0
     # live vars: $t6
  8: $t1 := infer($t6)
     # live vars: $t1
  9: goto 12
     # live vars: $t6
 10: label L1
     # live vars:
 11: $t1 := false
     # live vars: $t1
 12: label L2
     # live vars: $t1
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t2, $t5
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2, $t4
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t4, $t7
  5: $t6 := read_ref($t7)
     # live vars: $t4, $t6
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
     # live vars: $t6, $t9
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
  8: $t1 := +($t6, $t8)
     # live vars: $t1
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t0, $t2, $t5
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t0, $t2
  4: $t7 := signer::address_of($t0)
     # live vars: $t2, $t7
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t6, $t9
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
     # live vars: $t8, $t11
  9: $t10 := read_ref($t11)
     # live vars: $t8, $t10
 10: $t1 := +($t8, $t10)
     # live vars: $t1
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t0, $t2
  3: $t6 := signer::address_of($t0)
     # live vars: $t2, $t6
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
  9: $t1 := +($t7, $t9)
     # live vars: $t1
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t0, $t2
  3: $t6 := signer::address_of($t0)
     # live vars: $t2, $t6
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
  9: $t1 := +($t7, $t9)
     # live vars: $t1
 10: return $t1
}

============ after ReferenceSafetyProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
     # refs: []
     #
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
     # refs: []
     #
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
     # refs: []
     #
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
     # refs: []
     #
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  2: $t5 := signer::address_of($t0)
     # live vars: $t0, $t2, $t5
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t0, $t2
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  4: $t7 := signer::address_of($t0)
     # live vars: $t2, $t7
     # refs: []
     #
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
     # refs: []
     #
  6: if ($t2) goto 7 else goto 10
     # live vars: $t6
     # refs: []
     #
  7: label L0
     # live vars: $t6
     # refs: []
     #
  8: $t1 := infer($t6)
     # live vars: $t1
     # refs: []
     #
  9: goto 12
     # live vars: $t6
     # refs: []
     #
 10: label L1
     # live vars:
     # refs: []
     #
 11: $t1 := false
     # live vars: $t1
     # refs: []
     #
 12: label L2
     # live vars: $t1
     # refs: []
     #
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #
  2: $t5 := signer::address_of($t0)
     # live vars: $t2, $t5
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2, $t4
     # refs: [$t2 => #2, $t4 => #4]
     # #2
     #   <no edges>
     # #4
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t4, $t7
     # refs: [$t4 => #4, $t7 => #7]
     # #4
     #   <no edges>
     # #7
     #   <no edges>
     # #root
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #   -> #7 via [struct `GlobalAccess::S`] at line 30
     #
  5: $t6 := read_ref($t7)
     # live vars: $t4, $t6
     # refs: [$t4 => #4]
     # #4
     #   <no edges>
     # #root
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
     # live vars: $t6, $t9
     # refs: [$t9 => #9]
     # #9
     #   <no edges>
     # #root
     #   -> #9 via [struct `GlobalAccess::S`] at line 30
     #
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
     # refs: []
     #
  8: $t1 := +($t6, $t8)
     # live vars: $t1
     # refs: []
     #
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  2: $t5 := signer::address_of($t0)
     # live vars: $t0, $t2, $t5
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  4: $t7 := signer::address_of($t0)
     # live vars: $t2, $t7
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
     # refs: [$t2 => #2, $t6 => #6]
     # #2
     #   <no edges>
     # #6
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t6, $t9
     # refs: [$t6 => #6, $t9 => #9]
     # #6
     #   <no edges>
     # #9
     #   <no edges>
     # #root
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #   -> #9 via [struct `GlobalAccess::S`] at line 39
     #
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
     # refs: [$t6 => #6]
     # #6
     #   <no edges>
     # #root
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
     # live vars: $t8, $t11
     # refs: [$t11 => #11]
     # #11
     #   <no edges>
     # #root
     #   -> #11 via [struct `GlobalAccess::S`] at line 39
     #
  9: $t10 := read_ref($t11)
     # live vars: $t8, $t10
     # refs: []
     #
 10: $t1 := +($t8, $t10)
     # live vars: $t1
     # refs: []
     #
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  3: $t6 := signer::address_of($t0)
     # live vars: $t2, $t6
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
     # refs: [$t2 => #2, $t5 => #5]
     # #2
     #   <no edges>
     # #5
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
     # refs: [$t5 => #5, $t8 => #8]
     # #5
     #   <no edges>
     # #8
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #   -> #8 via [struct `GlobalAccess::S`] at line 48
     #
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
     # refs: [$t5 => #5]
     # #5
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   -> #10 via [struct `GlobalAccess::S`] at line 48
     #
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
     # refs: []
     #
  9: $t1 := +($t7, $t9)
     # live vars: $t1
     # refs: []
     #
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  3: $t6 := signer::address_of($t0)
     # live vars: $t2, $t6
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
     # refs: [$t2 => #2, $t5 => #5]
     # #2
     #   <no edges>
     # #5
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
     # refs: [$t5 => #5, $t8 => #8]
     # #5
     #   <no edges>
     # #8
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #   -> #8 via [struct `GlobalAccess::S`] at line 57
     #
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
     # refs: [$t5 => #5]
     # #5
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   -> #10 via [struct `GlobalAccess::S`] at line 57
     #
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
     # refs: []
     #
  9: $t1 := +($t7, $t9)
     # live vars: $t1
     # refs: []
     #
 10: return $t1
}

============ after AbortAnalysisProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # abort state: {returns,aborts}
     # live vars:
     # refs: []
     #
  0: $t0 := vector::empty<u8>()
     # abort state: {returns}
     # live vars: $t0
     # refs: []
     #
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t2 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t2
     # refs: []
     #
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # abort state: {returns,aborts}
     # live vars: $t0, $t2
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  2: $t5 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t0, $t2, $t5
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # abort state: {returns,aborts}
     # live vars: $t0, $t2
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  4: $t7 := signer::address_of($t0)
     # abort state: {returns}
     # live vars: $t2, $t7
     # refs: []
     #
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
     # abort state: {returns}
     # live vars: $t2, $t6
     # refs: []
     #
  6: if ($t2) goto 7 else goto 10
     # abort state: {returns}
     # live vars: $t6
     # refs: []
     #
  7: label L0
     # abort state: {returns}
     # live vars: $t6
     # refs: []
     #
  8: $t1 := infer($t6)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
  9: goto 12
     # abort state: {returns}
     # live vars: $t6
     # refs: []
     #
 10: label L1
     # abort state: {returns}
     # live vars:
     # refs: []
     #
 11: $t1 := false
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
 12: label L2
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # abort state: {returns,aborts}
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #
  2: $t5 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t2, $t5
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # abort state: {returns,aborts}
     # live vars: $t2, $t4
     # refs: [$t2 => #2, $t4 => #4]
     # #2
     #   <no edges>
     # #4
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # abort state: {returns,aborts}
     # live vars: $t4, $t7
     # refs: [$t4 => #4, $t7 => #7]
     # #4
     #   <no edges>
     # #7
     #   <no edges>
     # #root
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #   -> #7 via [struct `GlobalAccess::S`] at line 30
     #
  5: $t6 := read_ref($t7)
     # abort state: {returns,aborts}
     # live vars: $t4, $t6
     # refs: [$t4 => #4]
     # #4
     #   <no edges>
     # #root
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
     # abort state: {returns,aborts}
     # live vars: $t6, $t9
     # refs: [$t9 => #9]
     # #9
     #   <no edges>
     # #root
     #   -> #9 via [struct `GlobalAccess::S`] at line 30
     #
  7: $t8 := read_ref($t9)
     # abort state: {returns,aborts}
     # live vars: $t6, $t8
     # refs: []
     #
  8: $t1 := +($t6, $t8)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # abort state: {returns,aborts}
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  2: $t5 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t0, $t2, $t5
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # abort state: {returns,aborts}
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  4: $t7 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t2, $t7
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
     # abort state: {returns,aborts}
     # live vars: $t2, $t6
     # refs: [$t2 => #2, $t6 => #6]
     # #2
     #   <no edges>
     # #6
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # abort state: {returns,aborts}
     # live vars: $t6, $t9
     # refs: [$t6 => #6, $t9 => #9]
     # #6
     #   <no edges>
     # #9
     #   <no edges>
     # #root
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #   -> #9 via [struct `GlobalAccess::S`] at line 39
     #
  7: $t8 := read_ref($t9)
     # abort state: {returns,aborts}
     # live vars: $t6, $t8
     # refs: [$t6 => #6]
     # #6
     #   <no edges>
     # #root
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
     # abort state: {returns,aborts}
     # live vars: $t8, $t11
     # refs: [$t11 => #11]
     # #11
     #   <no edges>
     # #root
     #   -> #11 via [struct `GlobalAccess::S`] at line 39
     #
  9: $t10 := read_ref($t11)
     # abort state: {returns,aborts}
     # live vars: $t8, $t10
     # refs: []
     #
 10: $t1 := +($t8, $t10)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # abort state: {returns,aborts}
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # abort state: {returns,aborts}
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  3: $t6 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t2, $t6
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # abort state: {returns,aborts}
     # live vars: $t2, $t5
     # refs: [$t2 => #2, $t5 => #5]
     # #2
     #   <no edges>
     # #5
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # abort state: {returns,aborts}
     # live vars: $t5, $t8
     # refs: [$t5 => #5, $t8 => #8]
     # #5
     #   <no edges>
     # #8
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #   -> #8 via [struct `GlobalAccess::S`] at line 48
     #
  6: $t7 := read_ref($t8)
     # abort state: {returns,aborts}
     # live vars: $t5, $t7
     # refs: [$t5 => #5]
     # #5
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # abort state: {returns,aborts}
     # live vars: $t7, $t10
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   -> #10 via [struct `GlobalAccess::S`] at line 48
     #
  8: $t9 := read_ref($t10)
     # abort state: {returns,aborts}
     # live vars: $t7, $t9
     # refs: []
     #
  9: $t1 := +($t7, $t9)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # abort state: {returns,aborts}
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  2: $t4 := GlobalAccess::dummy_func()
     # abort state: {returns,aborts}
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  3: $t6 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t2, $t6
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # abort state: {returns,aborts}
     # live vars: $t2, $t5
     # refs: [$t2 => #2, $t5 => #5]
     # #2
     #   <no edges>
     # #5
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # abort state: {returns,aborts}
     # live vars: $t5, $t8
     # refs: [$t5 => #5, $t8 => #8]
     # #5
     #   <no edges>
     # #8
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #   -> #8 via [struct `GlobalAccess::S`] at line 57
     #
  6: $t7 := read_ref($t8)
     # abort state: {returns,aborts}
     # live vars: $t5, $t7
     # refs: [$t5 => #5]
     # #5
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # abort state: {returns,aborts}
     # live vars: $t7, $t10
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   -> #10 via [struct `GlobalAccess::S`] at line 57
     #
  8: $t9 := read_ref($t10)
     # abort state: {returns,aborts}
     # live vars: $t7, $t9
     # refs: []
     #
  9: $t1 := +($t7, $t9)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
 10: return $t1
}

============ after AbilityProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
  0: $t3 := signer::address_of($t0)
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: drop($t4)
  5: $t7 := signer::address_of($t0)
  6: $t6 := exists<0x99::GlobalAccess::S>($t7)
  7: if ($t2) goto 8 else goto 11
  8: label L0
  9: $t1 := move($t6)
 10: goto 13
 11: label L1
 12: $t1 := false
 13: label L2
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  5: $t6 := read_ref($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
  7: $t8 := read_ref($t9)
  8: $t1 := +($t6, $t8)
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  4: $t7 := signer::address_of($t0)
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  7: $t8 := read_ref($t9)
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
  9: $t10 := read_ref($t11)
 10: $t1 := +($t8, $t10)
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}

============ bytecode before second stackless bytecode pipeline ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
  0: $t3 := signer::address_of($t0)
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: $t7 := signer::address_of($t0)
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
  6: if ($t2) goto 7 else goto 10
  7: label L0
  8: $t1 := infer($t6)
  9: goto 12
 10: label L1
 11: $t1 := false
 12: label L2
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  5: $t6 := read_ref($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
  7: $t8 := read_ref($t9)
  8: $t1 := +($t6, $t8)
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  4: $t7 := signer::address_of($t0)
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  7: $t8 := read_ref($t9)
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
  9: $t10 := read_ref($t11)
 10: $t1 := +($t8, $t10)
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}

============ after SplitCriticalEdgesProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
  0: $t3 := signer::address_of($t0)
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: $t7 := signer::address_of($t0)
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
  6: if ($t2) goto 7 else goto 10
  7: label L0
  8: $t1 := infer($t6)
  9: goto 12
 10: label L1
 11: $t1 := false
 12: label L2
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  5: $t6 := read_ref($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
  7: $t8 := read_ref($t9)
  8: $t1 := +($t6, $t8)
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t5 := signer::address_of($t0)
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  4: $t7 := signer::address_of($t0)
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  7: $t8 := read_ref($t9)
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
  9: $t10 := read_ref($t11)
 10: $t1 := +($t8, $t10)
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t6 := signer::address_of($t0)
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t7 := read_ref($t8)
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
  8: $t9 := read_ref($t10)
  9: $t1 := +($t7, $t9)
 10: return $t1
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t0, $t2, $t5
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t0, $t2
  4: $t7 := signer::address_of($t0)
     # live vars: $t2, $t7
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
  6: if ($t2) goto 7 else goto 10
     # live vars: $t6
  7: label L0
     # live vars: $t6
  8: $t1 := infer($t6)
     # live vars: $t1
  9: goto 12
     # live vars: $t6
 10: label L1
     # live vars:
 11: $t1 := false
     # live vars: $t1
 12: label L2
     # live vars: $t1
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t2, $t5
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2, $t4
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t4, $t7
  5: $t6 := read_ref($t7)
     # live vars: $t4, $t6
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
     # live vars: $t6, $t9
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
  8: $t1 := +($t6, $t8)
     # live vars: $t1
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # live vars: $t0, $t2, $t5
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t0, $t2
  4: $t7 := signer::address_of($t0)
     # live vars: $t2, $t7
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t6, $t9
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
     # live vars: $t8, $t11
  9: $t10 := read_ref($t11)
     # live vars: $t8, $t10
 10: $t1 := +($t8, $t10)
     # live vars: $t1
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t0, $t2
  3: $t6 := signer::address_of($t0)
     # live vars: $t2, $t6
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
  9: $t1 := +($t7, $t9)
     # live vars: $t1
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t0, $t2
  3: $t6 := signer::address_of($t0)
     # live vars: $t2, $t6
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
  9: $t1 := +($t7, $t9)
     # live vars: $t1
 10: return $t1
}

============ after FlushWritesProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # flush: $t4
     # live vars: $t0, $t2, $t5
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t0, $t2
  4: $t7 := signer::address_of($t0)
     # flush: $t6
     # live vars: $t2, $t7
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
  6: if ($t2) goto 7 else goto 10
     # live vars: $t6
  7: label L0
     # flush: $t1
     # live vars: $t6
  8: $t1 := infer($t6)
     # live vars: $t1
  9: goto 12
     # live vars: $t6
 10: label L1
     # flush: $t1
     # live vars:
 11: $t1 := false
     # live vars: $t1
 12: label L2
     # live vars: $t1
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # flush: $t4
     # live vars: $t2, $t5
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2, $t4
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t4, $t7
  5: $t6 := read_ref($t7)
     # live vars: $t4, $t6
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
     # live vars: $t6, $t9
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
  8: $t1 := +($t6, $t8)
     # live vars: $t1
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t5 := signer::address_of($t0)
     # flush: $t4
     # live vars: $t0, $t2, $t5
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t0, $t2
  4: $t7 := signer::address_of($t0)
     # flush: $t6
     # live vars: $t2, $t7
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t6, $t9
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
     # live vars: $t8, $t11
  9: $t10 := read_ref($t11)
     # live vars: $t8, $t10
 10: $t1 := +($t8, $t10)
     # live vars: $t1
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # flush: $t4
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t0, $t2
  3: $t6 := signer::address_of($t0)
     # flush: $t5
     # live vars: $t2, $t6
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
  9: $t1 := +($t7, $t9)
     # live vars: $t1
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # flush: $t4
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t0, $t2
  3: $t6 := signer::address_of($t0)
     # flush: $t5
     # live vars: $t2, $t6
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
  9: $t1 := +($t7, $t9)
     # live vars: $t1
 10: return $t1
}

============ after ReferenceSafetyProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
     # refs: []
     #
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
     # refs: []
     #
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
     # refs: []
     #
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
     # refs: []
     #
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  2: $t5 := signer::address_of($t0)
     # flush: $t4
     # live vars: $t0, $t2, $t5
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t0, $t2
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  4: $t7 := signer::address_of($t0)
     # flush: $t6
     # live vars: $t2, $t7
     # refs: []
     #
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
     # refs: []
     #
  6: if ($t2) goto 7 else goto 10
     # live vars: $t6
     # refs: []
     #
  7: label L0
     # flush: $t1
     # live vars: $t6
     # refs: []
     #
  8: $t1 := infer($t6)
     # live vars: $t1
     # refs: []
     #
  9: goto 12
     # live vars: $t6
     # refs: []
     #
 10: label L1
     # flush: $t1
     # live vars:
     # refs: []
     #
 11: $t1 := false
     # live vars: $t1
     # refs: []
     #
 12: label L2
     # live vars: $t1
     # refs: []
     #
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #
  2: $t5 := signer::address_of($t0)
     # flush: $t4
     # live vars: $t2, $t5
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2, $t4
     # refs: [$t2 => #2, $t4 => #4]
     # #2
     #   <no edges>
     # #4
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t4, $t7
     # refs: [$t4 => #4, $t7 => #7]
     # #4
     #   <no edges>
     # #7
     #   <no edges>
     # #root
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #   -> #7 via [struct `GlobalAccess::S`] at line 30
     #
  5: $t6 := read_ref($t7)
     # live vars: $t4, $t6
     # refs: [$t4 => #4]
     # #4
     #   <no edges>
     # #root
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
     # live vars: $t6, $t9
     # refs: [$t9 => #9]
     # #9
     #   <no edges>
     # #root
     #   -> #9 via [struct `GlobalAccess::S`] at line 30
     #
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
     # refs: []
     #
  8: $t1 := +($t6, $t8)
     # live vars: $t1
     # refs: []
     #
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  2: $t5 := signer::address_of($t0)
     # flush: $t4
     # live vars: $t0, $t2, $t5
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  4: $t7 := signer::address_of($t0)
     # flush: $t6
     # live vars: $t2, $t7
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
     # refs: [$t2 => #2, $t6 => #6]
     # #2
     #   <no edges>
     # #6
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t6, $t9
     # refs: [$t6 => #6, $t9 => #9]
     # #6
     #   <no edges>
     # #9
     #   <no edges>
     # #root
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #   -> #9 via [struct `GlobalAccess::S`] at line 39
     #
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
     # refs: [$t6 => #6]
     # #6
     #   <no edges>
     # #root
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
     # live vars: $t8, $t11
     # refs: [$t11 => #11]
     # #11
     #   <no edges>
     # #root
     #   -> #11 via [struct `GlobalAccess::S`] at line 39
     #
  9: $t10 := read_ref($t11)
     # live vars: $t8, $t10
     # refs: []
     #
 10: $t1 := +($t8, $t10)
     # live vars: $t1
     # refs: []
     #
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # flush: $t4
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  3: $t6 := signer::address_of($t0)
     # flush: $t5
     # live vars: $t2, $t6
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
     # refs: [$t2 => #2, $t5 => #5]
     # #2
     #   <no edges>
     # #5
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
     # refs: [$t5 => #5, $t8 => #8]
     # #5
     #   <no edges>
     # #8
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #   -> #8 via [struct `GlobalAccess::S`] at line 48
     #
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
     # refs: [$t5 => #5]
     # #5
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   -> #10 via [struct `GlobalAccess::S`] at line 48
     #
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
     # refs: []
     #
  9: $t1 := +($t7, $t9)
     # live vars: $t1
     # refs: []
     #
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # flush: $t4
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  3: $t6 := signer::address_of($t0)
     # flush: $t5
     # live vars: $t2, $t6
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
     # refs: [$t2 => #2, $t5 => #5]
     # #2
     #   <no edges>
     # #5
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
     # refs: [$t5 => #5, $t8 => #8]
     # #5
     #   <no edges>
     # #8
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #   -> #8 via [struct `GlobalAccess::S`] at line 57
     #
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
     # refs: [$t5 => #5]
     # #5
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   -> #10 via [struct `GlobalAccess::S`] at line 57
     #
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
     # refs: []
     #
  9: $t1 := +($t7, $t9)
     # live vars: $t1
     # refs: []
     #
 10: return $t1
}

============ after ReachingDefProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
     # reaching instruction #0:
     # refs: []
     #
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
     # reaching instruction #1: `t0` @ {0}
     # refs: []
     #
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
     # reaching instruction #0:
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
     # reaching instruction #1: `t2` @ {0}
     # refs: []
     #
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
     # reaching instruction #2: `t1` @ {1}, `t2` @ {0}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {1}
     # refs: []
     #
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address
     # live vars: $t0
     # reaching instruction #0:
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # reaching instruction #1: `t3` @ {0}
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # reaching instruction #2: `t2` @ {1}, `t3` @ {0}
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  2: $t5 := signer::address_of($t0)
     # flush: $t4
     # live vars: $t0, $t2, $t5
     # reaching instruction #3: `t2` @ {1}, `t3` @ {0}, `t5` @ {2}
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t0, $t2
     # reaching instruction #4: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  4: $t7 := signer::address_of($t0)
     # flush: $t6
     # live vars: $t2, $t7
     # reaching instruction #5: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t7` @ {4}
     # refs: []
     #
  5: $t6 := exists<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
     # reaching instruction #6: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}
     # refs: []
     #
  6: if ($t2) goto 7 else goto 10
     # live vars: $t6
     # reaching instruction #7: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}
     # refs: []
     #
  7: label L0
     # flush: $t1
     # live vars: $t6
     # reaching instruction #8: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}
     # refs: []
     #
  8: $t1 := infer($t6)
     # live vars: $t1
     # reaching instruction #9: `t1` @ {8}, `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t7` @ {4}
     # refs: []
     #
  9: goto 12
     # live vars: $t6
     # reaching instruction #10: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}
     # refs: []
     #
 10: label L1
     # flush: $t1
     # live vars:
     # reaching instruction #11: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}
     # refs: []
     #
 11: $t1 := false
     # live vars: $t1
     # reaching instruction #12: `t1` @ {8, 11}, `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}
     # refs: []
     #
 12: label L2
     # live vars: $t1
     # reaching instruction #13: `t1` @ {8, 11}, `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}
     # refs: []
     #
 13: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64
     # live vars: $t0
     # reaching instruction #0:
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # reaching instruction #1: `t3` @ {0}
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # reaching instruction #2: `t2` @ {1}, `t3` @ {0}
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #
  2: $t5 := signer::address_of($t0)
     # flush: $t4
     # live vars: $t2, $t5
     # reaching instruction #3: `t2` @ {1}, `t3` @ {0}, `t5` @ {2}
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #
  3: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2, $t4
     # reaching instruction #4: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}
     # refs: [$t2 => #2, $t4 => #4]
     # #2
     #   <no edges>
     # #4
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #
  4: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t4, $t7
     # reaching instruction #5: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t7` @ {4}
     # refs: [$t4 => #4, $t7 => #7]
     # #4
     #   <no edges>
     # #7
     #   <no edges>
     # #root
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #   -> #7 via [struct `GlobalAccess::S`] at line 30
     #
  5: $t6 := read_ref($t7)
     # live vars: $t4, $t6
     # reaching instruction #6: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}
     # refs: [$t4 => #4]
     # #4
     #   <no edges>
     # #root
     #   -> #4 via [struct `GlobalAccess::S`] at line 29
     #
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t4)
     # live vars: $t6, $t9
     # reaching instruction #7: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}, `t9` @ {6}
     # refs: [$t9 => #9]
     # #9
     #   <no edges>
     # #root
     #   -> #9 via [struct `GlobalAccess::S`] at line 30
     #
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
     # reaching instruction #8: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}, `t8` @ {7}, `t9` @ {6}
     # refs: []
     #
  8: $t1 := +($t6, $t8)
     # live vars: $t1
     # reaching instruction #9: `t1` @ {8}, `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}, `t8` @ {7}, `t9` @ {6}
     # refs: []
     #
  9: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S
     var $t7: address
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64
     # live vars: $t0
     # reaching instruction #0:
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # reaching instruction #1: `t3` @ {0}
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # reaching instruction #2: `t2` @ {1}, `t3` @ {0}
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  2: $t5 := signer::address_of($t0)
     # flush: $t4
     # live vars: $t0, $t2, $t5
     # reaching instruction #3: `t2` @ {1}, `t3` @ {0}, `t5` @ {2}
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  3: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t0, $t2
     # reaching instruction #4: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {3}
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  4: $t7 := signer::address_of($t0)
     # flush: $t6
     # live vars: $t2, $t7
     # reaching instruction #5: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t7` @ {4}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {3}
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  5: $t6 := borrow_global<0x99::GlobalAccess::S>($t7)
     # live vars: $t2, $t6
     # reaching instruction #6: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {3}
     # refs: [$t2 => #2, $t6 => #6]
     # #2
     #   <no edges>
     # #6
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #
  6: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t6, $t9
     # reaching instruction #7: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}, `t9` @ {6}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {3}
     # refs: [$t6 => #6, $t9 => #9]
     # #6
     #   <no edges>
     # #9
     #   <no edges>
     # #root
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #   -> #9 via [struct `GlobalAccess::S`] at line 39
     #
  7: $t8 := read_ref($t9)
     # live vars: $t6, $t8
     # reaching instruction #8: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}, `t8` @ {7}, `t9` @ {6}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {3}
     # refs: [$t6 => #6]
     # #6
     #   <no edges>
     # #root
     #   -> #6 via [struct `GlobalAccess::S`] at line 38
     #
  8: $t11 := borrow_field<0x99::GlobalAccess::S>.val($t6)
     # live vars: $t8, $t11
     # reaching instruction #9: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}, `t8` @ {7}, `t9` @ {6}, `t11` @ {8}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {3}
     # refs: [$t11 => #11]
     # #11
     #   <no edges>
     # #root
     #   -> #11 via [struct `GlobalAccess::S`] at line 39
     #
  9: $t10 := read_ref($t11)
     # live vars: $t8, $t10
     # reaching instruction #10: `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}, `t8` @ {7}, `t9` @ {6}, `t10` @ {9}, `t11` @ {8}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {3}
     # refs: []
     #
 10: $t1 := +($t8, $t10)
     # live vars: $t1
     # reaching instruction #11: `t1` @ {10}, `t2` @ {1}, `t3` @ {0}, `t4` @ {3}, `t5` @ {2}, `t6` @ {5}, `t7` @ {4}, `t8` @ {7}, `t9` @ {6}, `t10` @ {9}, `t11` @ {8}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {3}
     # refs: []
     #
 11: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
     # reaching instruction #0:
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # reaching instruction #1: `t3` @ {0}
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # flush: $t4
     # live vars: $t0, $t2
     # reaching instruction #2: `t2` @ {1}, `t3` @ {0}
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t0, $t2
     # reaching instruction #3: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {2}
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  3: $t6 := signer::address_of($t0)
     # flush: $t5
     # live vars: $t2, $t6
     # reaching instruction #4: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t6` @ {3}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {2}
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
     # reaching instruction #5: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {2}
     # refs: [$t2 => #2, $t5 => #5]
     # #2
     #   <no edges>
     # #5
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
     # reaching instruction #6: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}, `t8` @ {5}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {2}
     # refs: [$t5 => #5, $t8 => #8]
     # #5
     #   <no edges>
     # #8
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #   -> #8 via [struct `GlobalAccess::S`] at line 48
     #
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
     # reaching instruction #7: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}, `t7` @ {6}, `t8` @ {5}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {2}
     # refs: [$t5 => #5]
     # #5
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 47
     #
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
     # reaching instruction #8: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}, `t7` @ {6}, `t8` @ {5}, `t10` @ {7}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {2}
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   -> #10 via [struct `GlobalAccess::S`] at line 48
     #
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
     # reaching instruction #9: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}, `t7` @ {6}, `t8` @ {5}, `t9` @ {8}, `t10` @ {7}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {2}
     # refs: []
     #
  9: $t1 := +($t7, $t9)
     # live vars: $t1
     # reaching instruction #10: `t1` @ {9}, `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}, `t7` @ {6}, `t8` @ {5}, `t9` @ {8}, `t10` @ {7}, `Struct QualifiedId { module_id: ModuleId(2), id: StructId(Symbol(141)) }` @ {2}
     # refs: []
     #
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S
     var $t6: address
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64
     # live vars: $t0
     # reaching instruction #0:
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # reaching instruction #1: `t3` @ {0}
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # flush: $t4
     # live vars: $t0, $t2
     # reaching instruction #2: `t2` @ {1}, `t3` @ {0}
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t0, $t2
     # reaching instruction #3: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  3: $t6 := signer::address_of($t0)
     # flush: $t5
     # live vars: $t2, $t6
     # reaching instruction #4: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t6` @ {3}
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  4: $t5 := borrow_global<0x99::GlobalAccess::S>($t6)
     # live vars: $t2, $t5
     # reaching instruction #5: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}
     # refs: [$t2 => #2, $t5 => #5]
     # #2
     #   <no edges>
     # #5
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #
  5: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t5, $t8
     # reaching instruction #6: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}, `t8` @ {5}
     # refs: [$t5 => #5, $t8 => #8]
     # #5
     #   <no edges>
     # #8
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #   -> #8 via [struct `GlobalAccess::S`] at line 57
     #
  6: $t7 := read_ref($t8)
     # live vars: $t5, $t7
     # reaching instruction #7: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}, `t7` @ {6}, `t8` @ {5}
     # refs: [$t5 => #5]
     # #5
     #   <no edges>
     # #root
     #   -> #5 via [struct `GlobalAccess::S`] at line 56
     #
  7: $t10 := borrow_field<0x99::GlobalAccess::S>.val($t5)
     # live vars: $t7, $t10
     # reaching instruction #8: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}, `t7` @ {6}, `t8` @ {5}, `t10` @ {7}
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   -> #10 via [struct `GlobalAccess::S`] at line 57
     #
  8: $t9 := read_ref($t10)
     # live vars: $t7, $t9
     # reaching instruction #9: `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}, `t7` @ {6}, `t8` @ {5}, `t9` @ {8}, `t10` @ {7}
     # refs: []
     #
  9: $t1 := +($t7, $t9)
     # live vars: $t1
     # reaching instruction #10: `t1` @ {9}, `t2` @ {1}, `t3` @ {0}, `t4` @ {2}, `t5` @ {4}, `t6` @ {3}, `t7` @ {6}, `t8` @ {5}, `t9` @ {8}, `t10` @ {7}
     # refs: []
     #
 10: return $t1
}

============ after CommonSubexpElimination: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
  3: $t2 := dup($t2)
  4: $t5 := dup($t3)
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  6: $t6 := dup($t2)
  7: if ($t2) goto 8 else goto 11
  8: label L0
  9: $t1 := infer($t6)
 10: goto 13
 11: label L1
 12: $t1 := false
 13: label L2
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  3: $t6 := read_ref($t7)
  4: $t6 := dup($t6)
  5: $t8 := dup($t6)
  6: $t1 := +($t6, $t8)
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  3: $t5 := dup($t3)
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t8 := read_ref($t9)
  7: $t8 := dup($t8)
  8: $t10 := dup($t8)
  9: $t1 := +($t8, $t10)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t3 := dup($t3)
     # live vars: $t3
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
  3: $t2 := dup($t2)
     # live vars: $t2, $t3
  4: $t5 := dup($t3)
     # live vars: $t2, $t5
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2
  6: $t6 := dup($t2)
     # live vars: $t2, $t6
  7: if ($t2) goto 8 else goto 11
     # live vars: $t6
  8: label L0
     # live vars: $t6
  9: $t1 := infer($t6)
     # live vars: $t1
 10: goto 13
     # live vars: $t6
 11: label L1
     # live vars:
 12: $t1 := false
     # live vars: $t1
 13: label L2
     # live vars: $t1
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t7
  3: $t6 := read_ref($t7)
     # live vars: $t6
  4: $t6 := dup($t6)
     # live vars: $t6
  5: $t8 := dup($t6)
     # live vars: $t6, $t8
  6: $t1 := +($t6, $t8)
     # live vars: $t1
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t3 := dup($t3)
     # live vars: $t3
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
  3: $t5 := dup($t3)
     # live vars: $t2, $t5
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t2
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t9
  6: $t8 := read_ref($t9)
     # live vars: $t8
  7: $t8 := dup($t8)
     # live vars: $t8
  8: $t10 := dup($t8)
     # live vars: $t8, $t10
  9: $t1 := +($t8, $t10)
     # live vars: $t1
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t1 := +($t7, $t9)
     # live vars: $t1
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t1 := +($t7, $t9)
     # live vars: $t1
  8: return $t1
}

============ after ReferenceSafetyProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
     # refs: []
     #
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
     # refs: []
     #
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
     # refs: []
     #
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
     # refs: []
     #
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
     # refs: []
     #
  1: $t3 := dup($t3)
     # live vars: $t3
     # refs: []
     #
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
     # refs: []
     #
  3: $t2 := dup($t2)
     # live vars: $t2, $t3
     # refs: []
     #
  4: $t5 := dup($t3)
     # live vars: $t2, $t5
     # refs: []
     #
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2
     # refs: []
     #
  6: $t6 := dup($t2)
     # live vars: $t2, $t6
     # refs: []
     #
  7: if ($t2) goto 8 else goto 11
     # live vars: $t6
     # refs: []
     #
  8: label L0
     # live vars: $t6
     # refs: []
     #
  9: $t1 := infer($t6)
     # live vars: $t1
     # refs: []
     #
 10: goto 13
     # live vars: $t6
     # refs: []
     #
 11: label L1
     # live vars:
     # refs: []
     #
 12: $t1 := false
     # live vars: $t1
     # refs: []
     #
 13: label L2
     # live vars: $t1
     # refs: []
     #
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
     # refs: []
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t7
     # refs: [$t7 => #7]
     # #7
     #   <no edges>
     # #root
     #   -> #7 via [struct `GlobalAccess::S`] at line 30
     #
  3: $t6 := read_ref($t7)
     # live vars: $t6
     # refs: []
     #
  4: $t6 := dup($t6)
     # live vars: $t6
     # refs: []
     #
  5: $t8 := dup($t6)
     # live vars: $t6, $t8
     # refs: []
     #
  6: $t1 := +($t6, $t8)
     # live vars: $t1
     # refs: []
     #
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
     # refs: []
     #
  1: $t3 := dup($t3)
     # live vars: $t3
     # refs: []
     #
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  3: $t5 := dup($t3)
     # live vars: $t2, $t5
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t2
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t9
     # refs: [$t9 => #9]
     # #9
     #   <no edges>
     # #root
     #   -> #9 via [struct `GlobalAccess::S`] at line 39
     #
  6: $t8 := read_ref($t9)
     # live vars: $t8
     # refs: []
     #
  7: $t8 := dup($t8)
     # live vars: $t8
     # refs: []
     #
  8: $t10 := dup($t8)
     # live vars: $t8, $t10
     # refs: []
     #
  9: $t1 := +($t8, $t10)
     # live vars: $t1
     # refs: []
     #
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t2
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
     # refs: [$t8 => #8]
     # #8
     #   <no edges>
     # #root
     #   -> #8 via [struct `GlobalAccess::S`] at line 48
     #
  4: $t7 := read_ref($t8)
     # live vars: $t7
     # refs: []
     #
  5: $t7 := dup($t7)
     # live vars: $t7
     # refs: []
     #
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
     # refs: []
     #
  7: $t1 := +($t7, $t9)
     # live vars: $t1
     # refs: []
     #
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
     # refs: []
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t2
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
     # refs: [$t8 => #8]
     # #8
     #   <no edges>
     # #root
     #   -> #8 via [struct `GlobalAccess::S`] at line 57
     #
  4: $t7 := read_ref($t8)
     # live vars: $t7
     # refs: []
     #
  5: $t7 := dup($t7)
     # live vars: $t7
     # refs: []
     #
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
     # refs: []
     #
  7: $t1 := +($t7, $t9)
     # live vars: $t1
     # refs: []
     #
  8: return $t1
}

============ after AbortAnalysisProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # abort state: {returns,aborts}
     # live vars:
     # refs: []
     #
  0: $t0 := vector::empty<u8>()
     # abort state: {returns}
     # live vars: $t0
     # refs: []
     #
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t2 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t2
     # refs: []
     #
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t3
     # refs: []
     #
  1: $t3 := dup($t3)
     # abort state: {returns,aborts}
     # live vars: $t3
     # refs: []
     #
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # abort state: {returns,aborts}
     # live vars: $t2, $t3
     # refs: []
     #
  3: $t2 := dup($t2)
     # abort state: {returns,aborts}
     # live vars: $t2, $t3
     # refs: []
     #
  4: $t5 := dup($t3)
     # abort state: {returns,aborts}
     # live vars: $t2, $t5
     # refs: []
     #
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # abort state: {returns}
     # live vars: $t2
     # refs: []
     #
  6: $t6 := dup($t2)
     # abort state: {returns}
     # live vars: $t2, $t6
     # refs: []
     #
  7: if ($t2) goto 8 else goto 11
     # abort state: {returns}
     # live vars: $t6
     # refs: []
     #
  8: label L0
     # abort state: {returns}
     # live vars: $t6
     # refs: []
     #
  9: $t1 := infer($t6)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
 10: goto 13
     # abort state: {returns}
     # live vars: $t6
     # refs: []
     #
 11: label L1
     # abort state: {returns}
     # live vars:
     # refs: []
     #
 12: $t1 := false
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
 13: label L2
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t3
     # refs: []
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # abort state: {returns,aborts}
     # live vars: $t2
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 28
     #
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # abort state: {returns,aborts}
     # live vars: $t7
     # refs: [$t7 => #7]
     # #7
     #   <no edges>
     # #root
     #   -> #7 via [struct `GlobalAccess::S`] at line 30
     #
  3: $t6 := read_ref($t7)
     # abort state: {returns,aborts}
     # live vars: $t6
     # refs: []
     #
  4: $t6 := dup($t6)
     # abort state: {returns,aborts}
     # live vars: $t6
     # refs: []
     #
  5: $t8 := dup($t6)
     # abort state: {returns,aborts}
     # live vars: $t6, $t8
     # refs: []
     #
  6: $t1 := +($t6, $t8)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t3
     # refs: []
     #
  1: $t3 := dup($t3)
     # abort state: {returns,aborts}
     # live vars: $t3
     # refs: []
     #
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # abort state: {returns,aborts}
     # live vars: $t2, $t3
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  3: $t5 := dup($t3)
     # abort state: {returns,aborts}
     # live vars: $t2, $t5
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # abort state: {returns,aborts}
     # live vars: $t2
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 36
     #
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # abort state: {returns,aborts}
     # live vars: $t9
     # refs: [$t9 => #9]
     # #9
     #   <no edges>
     # #root
     #   -> #9 via [struct `GlobalAccess::S`] at line 39
     #
  6: $t8 := read_ref($t9)
     # abort state: {returns,aborts}
     # live vars: $t8
     # refs: []
     #
  7: $t8 := dup($t8)
     # abort state: {returns,aborts}
     # live vars: $t8
     # refs: []
     #
  8: $t10 := dup($t8)
     # abort state: {returns,aborts}
     # live vars: $t8, $t10
     # refs: []
     #
  9: $t1 := +($t8, $t10)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t0, $t3
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # abort state: {returns,aborts}
     # live vars: $t0, $t2
     # refs: [$t0 => #0, $t2 => #2]
     # #0
     #   <no edges>
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # abort state: {returns,aborts}
     # live vars: $t2
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 45
     #
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # abort state: {returns,aborts}
     # live vars: $t8
     # refs: [$t8 => #8]
     # #8
     #   <no edges>
     # #root
     #   -> #8 via [struct `GlobalAccess::S`] at line 48
     #
  4: $t7 := read_ref($t8)
     # abort state: {returns,aborts}
     # live vars: $t7
     # refs: []
     #
  5: $t7 := dup($t7)
     # abort state: {returns,aborts}
     # live vars: $t7
     # refs: []
     #
  6: $t9 := dup($t7)
     # abort state: {returns,aborts}
     # live vars: $t7, $t9
     # refs: []
     #
  7: $t1 := +($t7, $t9)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # abort state: {returns,aborts}
     # live vars: $t0
     # refs: [$t0 => #0]
     # #0
     #   <no edges>
     # #root
     #   <no edges>
     #
  0: $t3 := signer::address_of($t0)
     # abort state: {returns,aborts}
     # live vars: $t3
     # refs: []
     #
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # abort state: {returns,aborts}
     # live vars: $t2
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  2: $t4 := GlobalAccess::dummy_func()
     # abort state: {returns,aborts}
     # live vars: $t2
     # refs: [$t2 => #2]
     # #2
     #   <no edges>
     # #root
     #   -> #2 via [struct `GlobalAccess::S`] at line 54
     #
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # abort state: {returns,aborts}
     # live vars: $t8
     # refs: [$t8 => #8]
     # #8
     #   <no edges>
     # #root
     #   -> #8 via [struct `GlobalAccess::S`] at line 57
     #
  4: $t7 := read_ref($t8)
     # abort state: {returns,aborts}
     # live vars: $t7
     # refs: []
     #
  5: $t7 := dup($t7)
     # abort state: {returns,aborts}
     # live vars: $t7
     # refs: []
     #
  6: $t9 := dup($t7)
     # abort state: {returns,aborts}
     # live vars: $t7, $t9
     # refs: []
     #
  7: $t1 := +($t7, $t9)
     # abort state: {returns}
     # live vars: $t1
     # refs: []
     #
  8: return $t1
}

============ after AbilityProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
  3: $t2 := dup($t2)
  4: $t5 := dup($t3)
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  6: drop($t4)
  7: $t6 := dup($t2)
  8: if ($t2) goto 9 else goto 12
  9: label L0
 10: $t1 := move($t6)
 11: goto 14
 12: label L1
 13: $t1 := false
 14: label L2
 15: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  3: $t6 := read_ref($t7)
  4: $t6 := dup($t6)
  5: $t8 := dup($t6)
  6: $t1 := +($t6, $t8)
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  3: $t5 := dup($t3)
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t8 := read_ref($t9)
  7: $t8 := dup($t8)
  8: $t10 := dup($t8)
  9: $t1 := +($t8, $t10)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}

============ after ControlFlowGraphSimplifier: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
  3: $t2 := dup($t2)
  4: $t5 := dup($t3)
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  6: drop($t4)
  7: $t6 := dup($t2)
  8: if ($t2) goto 9 else goto 12
  9: label L0
 10: $t1 := move($t6)
 11: return $t1
 12: label L1
 13: $t1 := false
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  3: $t6 := read_ref($t7)
  4: $t6 := dup($t6)
  5: $t8 := dup($t6)
  6: $t1 := +($t6, $t8)
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  3: $t5 := dup($t3)
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t8 := read_ref($t9)
  7: $t8 := dup($t8)
  8: $t10 := dup($t8)
  9: $t1 := +($t8, $t10)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}

============ after SplitCriticalEdgesProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
  3: $t2 := dup($t2)
  4: $t5 := dup($t3)
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  6: drop($t4)
  7: $t6 := dup($t2)
  8: if ($t2) goto 9 else goto 12
  9: label L0
 10: $t1 := move($t6)
 11: return $t1
 12: label L1
 13: $t1 := false
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  3: $t6 := read_ref($t7)
  4: $t6 := dup($t6)
  5: $t8 := dup($t6)
  6: $t1 := +($t6, $t8)
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  3: $t5 := dup($t3)
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t8 := read_ref($t9)
  7: $t8 := dup($t8)
  8: $t10 := dup($t8)
  9: $t1 := +($t8, $t10)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}

============ after UnreachableCodeProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # maybe
  0: $t0 := vector::empty<u8>()
     # maybe
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # maybe
  0: $t2 := signer::address_of($t0)
     # maybe
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # maybe
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
     # maybe
  0: $t3 := signer::address_of($t0)
     # maybe
  1: $t3 := dup($t3)
     # maybe
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # maybe
  3: $t2 := dup($t2)
     # maybe
  4: $t5 := dup($t3)
     # maybe
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # maybe
  6: drop($t4)
     # maybe
  7: $t6 := dup($t2)
     # maybe
  8: if ($t2) goto 9 else goto 12
     # maybe
  9: label L0
     # maybe
 10: $t1 := move($t6)
     # maybe
 11: return $t1
     # maybe
 12: label L1
     # maybe
 13: $t1 := false
     # maybe
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
     # maybe
  0: $t3 := signer::address_of($t0)
     # maybe
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # maybe
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # maybe
  3: $t6 := read_ref($t7)
     # maybe
  4: $t6 := dup($t6)
     # maybe
  5: $t8 := dup($t6)
     # maybe
  6: $t1 := +($t6, $t8)
     # maybe
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
     # maybe
  0: $t3 := signer::address_of($t0)
     # maybe
  1: $t3 := dup($t3)
     # maybe
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # maybe
  3: $t5 := dup($t3)
     # maybe
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # maybe
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # maybe
  6: $t8 := read_ref($t9)
     # maybe
  7: $t8 := dup($t8)
     # maybe
  8: $t10 := dup($t8)
     # maybe
  9: $t1 := +($t8, $t10)
     # maybe
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # maybe
  0: $t3 := signer::address_of($t0)
     # maybe
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # maybe
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # maybe
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # maybe
  4: $t7 := read_ref($t8)
     # maybe
  5: $t7 := dup($t7)
     # maybe
  6: $t9 := dup($t7)
     # maybe
  7: $t1 := +($t7, $t9)
     # maybe
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # maybe
  0: $t3 := signer::address_of($t0)
     # maybe
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # maybe
  2: $t4 := GlobalAccess::dummy_func()
     # maybe
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # maybe
  4: $t7 := read_ref($t8)
     # maybe
  5: $t7 := dup($t7)
     # maybe
  6: $t9 := dup($t7)
     # maybe
  7: $t1 := +($t7, $t9)
     # maybe
  8: return $t1
}

============ after UnreachableCodeRemover: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
  3: $t2 := dup($t2)
  4: $t5 := dup($t3)
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  6: drop($t4)
  7: $t6 := dup($t2)
  8: if ($t2) goto 9 else goto 12
  9: label L0
 10: $t1 := move($t6)
 11: return $t1
 12: label L1
 13: $t1 := false
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  3: $t6 := read_ref($t7)
  4: $t6 := dup($t6)
  5: $t8 := dup($t6)
  6: $t1 := +($t6, $t8)
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  3: $t5 := dup($t3)
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t8 := read_ref($t9)
  7: $t8 := dup($t8)
  8: $t10 := dup($t8)
  9: $t1 := +($t8, $t10)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t3 := dup($t3)
     # live vars: $t3
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
  3: $t2 := dup($t2)
     # live vars: $t2, $t3
  4: $t5 := dup($t3)
     # live vars: $t2, $t5
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2, $t4
  6: drop($t4)
     # live vars: $t2
  7: $t6 := dup($t2)
     # live vars: $t2, $t6
  8: if ($t2) goto 9 else goto 12
     # live vars: $t6
  9: label L0
     # live vars: $t6
 10: $t1 := move($t6)
     # live vars: $t1
 11: return $t1
     # live vars: $t6
 12: label L1
     # live vars:
 13: $t1 := false
     # live vars: $t1
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t7
  3: $t6 := read_ref($t7)
     # live vars: $t6
  4: $t6 := dup($t6)
     # live vars: $t6
  5: $t8 := dup($t6)
     # live vars: $t6, $t8
  6: $t1 := +($t6, $t8)
     # live vars: $t1
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t3 := dup($t3)
     # live vars: $t3
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
  3: $t5 := dup($t3)
     # live vars: $t2, $t5
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t2
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t9
  6: $t8 := read_ref($t9)
     # live vars: $t8
  7: $t8 := dup($t8)
     # live vars: $t8
  8: $t10 := dup($t8)
     # live vars: $t8, $t10
  9: $t1 := +($t8, $t10)
     # live vars: $t1
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t1 := +($t7, $t9)
     # live vars: $t1
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t1 := +($t7, $t9)
     # live vars: $t1
  8: return $t1
}

============ after DeadStoreElimination: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
  3: $t2 := dup($t2)
  4: $t5 := dup($t3)
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
  6: drop($t4)
  7: $t6 := dup($t2)
  8: if ($t2) goto 9 else goto 12
  9: label L0
 10: $t1 := move($t6)
 11: return $t1
 12: label L1
 13: $t1 := false
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  3: $t6 := read_ref($t7)
  4: $t6 := dup($t6)
  5: $t8 := dup($t6)
  6: $t1 := +($t6, $t8)
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  3: $t5 := dup($t3)
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t8 := read_ref($t9)
  7: $t8 := dup($t8)
  8: $t10 := dup($t8)
  9: $t1 := +($t8, $t10)
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t1 := +($t7, $t9)
  8: return $t1
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address
     var $t6: bool
     var $t7: address [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t3 := dup($t3)
     # live vars: $t3
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
  3: $t2 := dup($t2)
     # live vars: $t2, $t3
  4: $t5 := dup($t3)
     # live vars: $t2, $t5
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t5)
     # live vars: $t2, $t4
  6: drop($t4)
     # live vars: $t2
  7: $t6 := dup($t2)
     # live vars: $t2, $t6
  8: if ($t2) goto 9 else goto 12
     # live vars: $t6
  9: label L0
     # live vars: $t6
 10: $t1 := move($t6)
     # live vars: $t1
 11: return $t1
     # live vars: $t6
 12: label L1
     # live vars:
 13: $t1 := false
     # live vars: $t1
 14: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t7
  3: $t6 := read_ref($t7)
     # live vars: $t6
  4: $t6 := dup($t6)
     # live vars: $t6
  5: $t8 := dup($t6)
     # live vars: $t6, $t8
  6: $t1 := +($t6, $t8)
     # live vars: $t1
  7: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t3 := dup($t3)
     # live vars: $t3
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
  3: $t5 := dup($t3)
     # live vars: $t2, $t5
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t5)
     # live vars: $t2
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t9
  6: $t8 := read_ref($t9)
     # live vars: $t8
  7: $t8 := dup($t8)
     # live vars: $t8
  8: $t10 := dup($t8)
     # live vars: $t8, $t10
  9: $t1 := +($t8, $t10)
     # live vars: $t1
 10: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t1 := +($t7, $t9)
     # live vars: $t1
  8: return $t1
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t1 := +($t7, $t9)
     # live vars: $t1
  8: return $t1
}

============ after VariableCoalescingTransformer: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool [unused]
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address [unused]
     var $t6: bool
     var $t7: address [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
  3: $t2 := dup($t2)
  4: $t3 := dup($t3)
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t3)
  6: drop($t4)
  7: $t6 := dup($t2)
  8: if ($t2) goto 9 else goto 12
  9: label L0
 10: $t2 := move($t6)
 11: return $t2
 12: label L1
 13: $t2 := false
 14: return $t2
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  3: $t6 := read_ref($t7)
  4: $t6 := dup($t6)
  5: $t8 := dup($t6)
  6: $t6 := +($t6, $t8)
  7: return $t6
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address [unused]
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  3: $t3 := dup($t3)
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t3)
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t8 := read_ref($t9)
  7: $t8 := dup($t8)
  8: $t10 := dup($t8)
  9: $t8 := +($t8, $t10)
 10: return $t8
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t7 := +($t7, $t9)
  8: return $t7
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t7 := +($t7, $t9)
  8: return $t7
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool [unused]
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address [unused]
     var $t6: bool
     var $t7: address [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t3 := dup($t3)
     # live vars: $t3
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
  3: $t2 := dup($t2)
     # live vars: $t2, $t3
  4: $t3 := dup($t3)
     # live vars: $t2, $t3
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t4
  6: drop($t4)
     # live vars: $t2
  7: $t6 := dup($t2)
     # live vars: $t2, $t6
  8: if ($t2) goto 9 else goto 12
     # live vars: $t6
  9: label L0
     # live vars: $t6
 10: $t2 := move($t6)
     # live vars: $t2
 11: return $t2
     # live vars: $t6
 12: label L1
     # live vars:
 13: $t2 := false
     # live vars: $t2
 14: return $t2
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t7
  3: $t6 := read_ref($t7)
     # live vars: $t6
  4: $t6 := dup($t6)
     # live vars: $t6
  5: $t8 := dup($t6)
     # live vars: $t6, $t8
  6: $t6 := +($t6, $t8)
     # live vars: $t6
  7: return $t6
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address [unused]
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t3 := dup($t3)
     # live vars: $t3
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
  3: $t3 := dup($t3)
     # live vars: $t2, $t3
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t3)
     # live vars: $t2
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t9
  6: $t8 := read_ref($t9)
     # live vars: $t8
  7: $t8 := dup($t8)
     # live vars: $t8
  8: $t10 := dup($t8)
     # live vars: $t8, $t10
  9: $t8 := +($t8, $t10)
     # live vars: $t8
 10: return $t8
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t7 := +($t7, $t9)
     # live vars: $t7
  8: return $t7
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t7 := +($t7, $t9)
     # live vars: $t7
  8: return $t7
}

============ after DeadStoreElimination: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
  0: $t0 := vector::empty<u8>()
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
  0: $t2 := signer::address_of($t0)
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool [unused]
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address [unused]
     var $t6: bool
     var $t7: address [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
  3: $t2 := dup($t2)
  4: $t3 := dup($t3)
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t3)
  6: drop($t4)
  7: $t6 := dup($t2)
  8: if ($t2) goto 9 else goto 12
  9: label L0
 10: $t2 := move($t6)
 11: return $t2
 12: label L1
 13: $t2 := false
 14: return $t2
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  3: $t6 := read_ref($t7)
  4: $t6 := dup($t6)
  5: $t8 := dup($t6)
  6: $t6 := +($t6, $t8)
  7: return $t6
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address [unused]
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t3 := dup($t3)
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  3: $t3 := dup($t3)
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t3)
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  6: $t8 := read_ref($t9)
  7: $t8 := dup($t8)
  8: $t10 := dup($t8)
  9: $t8 := +($t8, $t10)
 10: return $t8
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::move_from_S1($t0)
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t7 := +($t7, $t9)
  8: return $t7
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
  0: $t3 := signer::address_of($t0)
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
  2: $t4 := GlobalAccess::dummy_func()
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
  4: $t7 := read_ref($t8)
  5: $t7 := dup($t7)
  6: $t9 := dup($t7)
  7: $t7 := +($t7, $t9)
  8: return $t7
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool [unused]
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address [unused]
     var $t6: bool
     var $t7: address [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t3 := dup($t3)
     # live vars: $t3
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
  3: $t2 := dup($t2)
     # live vars: $t2, $t3
  4: $t3 := dup($t3)
     # live vars: $t2, $t3
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t4
  6: drop($t4)
     # live vars: $t2
  7: $t6 := dup($t2)
     # live vars: $t2, $t6
  8: if ($t2) goto 9 else goto 12
     # live vars: $t6
  9: label L0
     # live vars: $t6
 10: $t2 := move($t6)
     # live vars: $t2
 11: return $t2
     # live vars: $t6
 12: label L1
     # live vars:
 13: $t2 := false
     # live vars: $t2
 14: return $t2
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t7
  3: $t6 := read_ref($t7)
     # live vars: $t6
  4: $t6 := dup($t6)
     # live vars: $t6
  5: $t8 := dup($t6)
     # live vars: $t6, $t8
  6: $t6 := +($t6, $t8)
     # live vars: $t6
  7: return $t6
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address [unused]
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t3 := dup($t3)
     # live vars: $t3
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
  3: $t3 := dup($t3)
     # live vars: $t2, $t3
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t3)
     # live vars: $t2
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t9
  6: $t8 := read_ref($t9)
     # live vars: $t8
  7: $t8 := dup($t8)
     # live vars: $t8
  8: $t10 := dup($t8)
     # live vars: $t8, $t10
  9: $t8 := +($t8, $t10)
     # live vars: $t8
 10: return $t8
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t7 := +($t7, $t9)
     # live vars: $t7
  8: return $t7
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t7 := +($t7, $t9)
     # live vars: $t7
  8: return $t7
}

============ after FlushWritesProcessor: ================

[variant baseline]
fun GlobalAccess::dummy_func(): vector<u8> {
     var $t0: vector<u8>
     # live vars:
  0: $t0 := vector::empty<u8>()
     # live vars: $t0
  1: return $t0
}


[variant baseline]
fun GlobalAccess::move_from_S1($t0: &signer): 0x99::GlobalAccess::S1 {
     var $t1: 0x99::GlobalAccess::S1
     var $t2: address
     # live vars: $t0
  0: $t2 := signer::address_of($t0)
     # live vars: $t2
  1: $t1 := move_from<0x99::GlobalAccess::S1>($t2)
     # live vars: $t1
  2: return $t1
}


[variant baseline]
fun GlobalAccess::test_existence_check($t0: &signer): bool {
     var $t1: bool [unused]
     var $t2: bool
     var $t3: address
     var $t4: &0x99::GlobalAccess::S
     var $t5: address [unused]
     var $t6: bool
     var $t7: address [unused]
     # flush: $t3
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # flush: $t3
     # live vars: $t3
  1: $t3 := dup($t3)
     # flush: $t2
     # live vars: $t3
  2: $t2 := exists<0x99::GlobalAccess::S>($t3)
     # flush: $t2
     # live vars: $t2, $t3
  3: $t2 := dup($t2)
     # live vars: $t2, $t3
  4: $t3 := dup($t3)
     # live vars: $t2, $t3
  5: $t4 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t4
  6: drop($t4)
     # flush: $t6
     # live vars: $t2
  7: $t6 := dup($t2)
     # live vars: $t2, $t6
  8: if ($t2) goto 9 else goto 12
     # live vars: $t6
  9: label L0
     # live vars: $t6
 10: $t2 := move($t6)
     # live vars: $t2
 11: return $t2
     # live vars: $t6
 12: label L1
     # live vars:
 13: $t2 := false
     # live vars: $t2
 14: return $t2
}


[variant baseline]
fun GlobalAccess::test_global_borrow($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: &0x99::GlobalAccess::S [unused]
     var $t5: address [unused]
     var $t6: u64
     var $t7: &u64
     var $t8: u64
     var $t9: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2
  2: $t7 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # flush: $t6
     # live vars: $t7
  3: $t6 := read_ref($t7)
     # flush: $t6
     # live vars: $t6
  4: $t6 := dup($t6)
     # live vars: $t6
  5: $t8 := dup($t6)
     # live vars: $t6, $t8
  6: $t6 := +($t6, $t8)
     # live vars: $t6
  7: return $t6
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v2($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: address [unused]
     var $t6: &0x99::GlobalAccess::S [unused]
     var $t7: address [unused]
     var $t8: u64
     var $t9: &u64
     var $t10: u64
     var $t11: &u64 [unused]
     # flush: $t3
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # flush: $t3
     # live vars: $t3
  1: $t3 := dup($t3)
     # live vars: $t3
  2: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # live vars: $t2, $t3
  3: $t3 := dup($t3)
     # flush: $t4
     # live vars: $t2, $t3
  4: $t4 := move_from<0x99::GlobalAccess::S1>($t3)
     # live vars: $t2
  5: $t9 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # flush: $t8
     # live vars: $t9
  6: $t8 := read_ref($t9)
     # flush: $t8
     # live vars: $t8
  7: $t8 := dup($t8)
     # live vars: $t8
  8: $t10 := dup($t8)
     # live vars: $t8, $t10
  9: $t8 := +($t8, $t10)
     # live vars: $t8
 10: return $t8
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v3($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: 0x99::GlobalAccess::S1
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t0, $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # flush: $t4
     # live vars: $t0, $t2
  2: $t4 := GlobalAccess::move_from_S1($t0)
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # flush: $t7
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # flush: $t7
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t7 := +($t7, $t9)
     # live vars: $t7
  8: return $t7
}


[variant baseline]
fun GlobalAccess::test_global_borrow_v4($t0: &signer): u64 {
     var $t1: u64 [unused]
     var $t2: &0x99::GlobalAccess::S
     var $t3: address
     var $t4: vector<u8>
     var $t5: &0x99::GlobalAccess::S [unused]
     var $t6: address [unused]
     var $t7: u64
     var $t8: &u64
     var $t9: u64
     var $t10: &u64 [unused]
     # live vars: $t0
  0: $t3 := signer::address_of($t0)
     # live vars: $t3
  1: $t2 := borrow_global<0x99::GlobalAccess::S>($t3)
     # flush: $t4
     # live vars: $t2
  2: $t4 := GlobalAccess::dummy_func()
     # live vars: $t2
  3: $t8 := borrow_field<0x99::GlobalAccess::S>.val($t2)
     # flush: $t7
     # live vars: $t8
  4: $t7 := read_ref($t8)
     # flush: $t7
     # live vars: $t7
  5: $t7 := dup($t7)
     # live vars: $t7
  6: $t9 := dup($t7)
     # live vars: $t7, $t9
  7: $t7 := +($t7, $t9)
     # live vars: $t7
  8: return $t7
}


============ disassembled file-format ==================
// Bytecode version v9
module 0x99::GlobalAccess
use 0x1::signer
struct S has key
  val: u64

struct S1 has drop + key
  val: u64

// Function definition at index 0
fun dummy_func(): vector<u8>
    vec_pack <u8>, 0
    ret

// Function definition at index 1
fun move_from_S1(l0: &signer): S1 acquires S1
    move_loc l0
    call signer::address_of
    move_from S1
    ret

// Function definition at index 2
fun test_existence_check(l0: &signer): bool acquires S
    local l1: address
    local l2: bool
    local l3: &S
    local l4: bool
    move_loc l0
    call signer::address_of
    st_loc l1
    copy_loc l1
    exists S
    // @5
    st_loc l2
    copy_loc l2
    copy_loc l1
    borrow_global S
    pop
    // @10
    copy_loc l2
    st_loc l4
    br_false l0
    move_loc l4
    ret
    // @15
l0: ld_false
    ret

// Function definition at index 3
fun test_global_borrow(l0: &signer): u64 acquires S
    local l1: u64
    move_loc l0
    call signer::address_of
    borrow_global S
    borrow_field S, val
    read_ref
    // @5
    st_loc l1
    copy_loc l1
    copy_loc l1
    add
    ret

// Function definition at index 4
fun test_global_borrow_v2(l0: &signer): u64 acquires S, S1
    local l1: address
    local l2: u64
    move_loc l0
    call signer::address_of
    st_loc l1
    copy_loc l1
    borrow_global S
    // @5
    copy_loc l1
    move_from S1
    pop
    borrow_field S, val
    read_ref
    // @10
    st_loc l2
    copy_loc l2
    copy_loc l2
    add
    ret

// Function definition at index 5
fun test_global_borrow_v3(l0: &signer): u64 acquires S, S1
    local l1: u64
    copy_loc l0
    call signer::address_of
    borrow_global S
    move_loc l0
    call move_from_S1
    // @5
    pop
    borrow_field S, val
    read_ref
    st_loc l1
    copy_loc l1
    // @10
    copy_loc l1
    add
    ret

// Function definition at index 6
fun test_global_borrow_v4(l0: &signer): u64 acquires S
    local l1: u64
    move_loc l0
    call signer::address_of
    borrow_global S
    call dummy_func
    pop
    // @5
    borrow_field S, val
    read_ref
    st_loc l1
    copy_loc l1
    copy_loc l1
    // @10
    add
    ret


============ bytecode verification succeeded ========
