============ bytecode before first stackless bytecode pipeline ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t11 := borrow_local($t0)
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
  7: $t9 := read_ref($t12)
  8: $t4 := +($t5, $t9)
  9: return $t4
}

============ after SplitCriticalEdgesProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t11 := borrow_local($t0)
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
  7: $t9 := read_ref($t12)
  8: $t4 := +($t5, $t9)
  9: return $t4
}

============ after uninitialized_use_checker: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t11 := borrow_local($t0)
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
  7: $t9 := read_ref($t12)
  8: $t4 := +($t5, $t9)
  9: return $t4
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
     # live vars: $t0, $t1, $t2, $t3
  0: $t7 := borrow_local($t0)
     # live vars: $t0, $t7
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t0, $t6
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t0, $t8
  3: $t5 := read_ref($t8)
     # live vars: $t0, $t5
  4: $t11 := borrow_local($t0)
     # live vars: $t5, $t11
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
     # live vars: $t5, $t10
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
     # live vars: $t5, $t12
  7: $t9 := read_ref($t12)
     # live vars: $t5, $t9
  8: $t4 := +($t5, $t9)
     # live vars: $t4
  9: return $t4
}


Diagnostics:
warning: Unused value of parameter `arg2`. Consider removing the parameter, or prefixing with an underscore (e.g., `_arg2`), or binding to `_`
   ┌─ tests/common-subexp-elimination/optimized/field_access_1.move:16:40
   │
16 │     fun test_field_access(arg1: Outer, arg2: u64, x: u64, y: u64): u64 {
   │                                        ^^^^

warning: Unused value of parameter `x`. Consider removing the parameter, or prefixing with an underscore (e.g., `_x`), or binding to `_`
   ┌─ tests/common-subexp-elimination/optimized/field_access_1.move:16:51
   │
16 │     fun test_field_access(arg1: Outer, arg2: u64, x: u64, y: u64): u64 {
   │                                                   ^

warning: Unused value of parameter `y`. Consider removing the parameter, or prefixing with an underscore (e.g., `_y`), or binding to `_`
   ┌─ tests/common-subexp-elimination/optimized/field_access_1.move:16:59
   │
16 │     fun test_field_access(arg1: Outer, arg2: u64, x: u64, y: u64): u64 {
   │                                                           ^

============ after UnusedAssignmentChecker: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
     # live vars: $t0, $t1, $t2, $t3
  0: $t7 := borrow_local($t0)
     # live vars: $t0, $t7
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t0, $t6
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t0, $t8
  3: $t5 := read_ref($t8)
     # live vars: $t0, $t5
  4: $t11 := borrow_local($t0)
     # live vars: $t5, $t11
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
     # live vars: $t5, $t10
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
     # live vars: $t5, $t12
  7: $t9 := read_ref($t12)
     # live vars: $t5, $t9
  8: $t4 := +($t5, $t9)
     # live vars: $t4
  9: return $t4
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
     # live vars: $t0, $t1, $t2, $t3
  0: $t7 := borrow_local($t0)
     # live vars: $t0, $t7
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t0, $t6
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t0, $t8
  3: $t5 := read_ref($t8)
     # live vars: $t0, $t5
  4: $t11 := borrow_local($t0)
     # live vars: $t5, $t11
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
     # live vars: $t5, $t10
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
     # live vars: $t5, $t12
  7: $t9 := read_ref($t12)
     # live vars: $t5, $t9
  8: $t4 := +($t5, $t9)
     # live vars: $t4
  9: return $t4
}

============ after ReferenceSafetyProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
     # live vars: $t0, $t1, $t2, $t3
     # refs: []
     #
  0: $t7 := borrow_local($t0)
     # live vars: $t0, $t7
     # refs: [$t7 => #7]
     # #7
     #   <no edges>
     # #root
     #   => #7 via [local `arg1`] at line 17
     #
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t0, $t6
     # refs: [$t6 => #6]
     # #6
     #   <no edges>
     # #root
     #   => #6 via [local `arg1`, field `inner`] at line 17
     #
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t0, $t8
     # refs: [$t8 => #8]
     # #8
     #   <no edges>
     # #root
     #   => #8 via [local `arg1`, field `inner`, field `value`] at line 17
     #
  3: $t5 := read_ref($t8)
     # live vars: $t0, $t5
     # refs: []
     #
  4: $t11 := borrow_local($t0)
     # live vars: $t5, $t11
     # refs: [$t11 => #11]
     # #11
     #   <no edges>
     # #root
     #   => #11 via [local `arg1`] at line 17
     #
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
     # live vars: $t5, $t10
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   => #10 via [local `arg1`, field `inner`] at line 17
     #
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
     # live vars: $t5, $t12
     # refs: [$t12 => #12]
     # #12
     #   <no edges>
     # #root
     #   => #12 via [local `arg1`, field `inner`, field `value`] at line 17
     #
  7: $t9 := read_ref($t12)
     # live vars: $t5, $t9
     # refs: []
     #
  8: $t4 := +($t5, $t9)
     # live vars: $t4
     # refs: []
     #
  9: return $t4
}

============ after AbortAnalysisProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
     # abort state: {returns,aborts}
     # live vars: $t0, $t1, $t2, $t3
     # refs: []
     #
  0: $t7 := borrow_local($t0)
     # abort state: {returns,aborts}
     # live vars: $t0, $t7
     # refs: [$t7 => #7]
     # #7
     #   <no edges>
     # #root
     #   => #7 via [local `arg1`] at line 17
     #
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # abort state: {returns,aborts}
     # live vars: $t0, $t6
     # refs: [$t6 => #6]
     # #6
     #   <no edges>
     # #root
     #   => #6 via [local `arg1`, field `inner`] at line 17
     #
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # abort state: {returns,aborts}
     # live vars: $t0, $t8
     # refs: [$t8 => #8]
     # #8
     #   <no edges>
     # #root
     #   => #8 via [local `arg1`, field `inner`, field `value`] at line 17
     #
  3: $t5 := read_ref($t8)
     # abort state: {returns,aborts}
     # live vars: $t0, $t5
     # refs: []
     #
  4: $t11 := borrow_local($t0)
     # abort state: {returns,aborts}
     # live vars: $t5, $t11
     # refs: [$t11 => #11]
     # #11
     #   <no edges>
     # #root
     #   => #11 via [local `arg1`] at line 17
     #
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
     # abort state: {returns,aborts}
     # live vars: $t5, $t10
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   => #10 via [local `arg1`, field `inner`] at line 17
     #
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
     # abort state: {returns,aborts}
     # live vars: $t5, $t12
     # refs: [$t12 => #12]
     # #12
     #   <no edges>
     # #root
     #   => #12 via [local `arg1`, field `inner`, field `value`] at line 17
     #
  7: $t9 := read_ref($t12)
     # abort state: {returns,aborts}
     # live vars: $t5, $t9
     # refs: []
     #
  8: $t4 := +($t5, $t9)
     # abort state: {returns}
     # live vars: $t4
     # refs: []
     #
  9: return $t4
}

============ after AbilityProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t11 := borrow_local($t0)
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
  7: $t9 := read_ref($t12)
  8: $t4 := +($t5, $t9)
  9: return $t4
}

============ bytecode before second stackless bytecode pipeline ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t11 := borrow_local($t0)
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
  7: $t9 := read_ref($t12)
  8: $t4 := +($t5, $t9)
  9: return $t4
}

============ after SplitCriticalEdgesProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t11 := borrow_local($t0)
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
  7: $t9 := read_ref($t12)
  8: $t4 := +($t5, $t9)
  9: return $t4
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
     # live vars: $t0, $t1, $t2, $t3
  0: $t7 := borrow_local($t0)
     # live vars: $t0, $t7
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t0, $t6
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t0, $t8
  3: $t5 := read_ref($t8)
     # live vars: $t0, $t5
  4: $t11 := borrow_local($t0)
     # live vars: $t5, $t11
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
     # live vars: $t5, $t10
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
     # live vars: $t5, $t12
  7: $t9 := read_ref($t12)
     # live vars: $t5, $t9
  8: $t4 := +($t5, $t9)
     # live vars: $t4
  9: return $t4
}

============ after FlushWritesProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
     # live vars: $t0, $t1, $t2, $t3
  0: $t7 := borrow_local($t0)
     # live vars: $t0, $t7
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t0, $t6
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t0, $t8
  3: $t5 := read_ref($t8)
     # live vars: $t0, $t5
  4: $t11 := borrow_local($t0)
     # live vars: $t5, $t11
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
     # live vars: $t5, $t10
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
     # live vars: $t5, $t12
  7: $t9 := read_ref($t12)
     # live vars: $t5, $t9
  8: $t4 := +($t5, $t9)
     # live vars: $t4
  9: return $t4
}

============ after ReferenceSafetyProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
     # live vars: $t0, $t1, $t2, $t3
     # refs: []
     #
  0: $t7 := borrow_local($t0)
     # live vars: $t0, $t7
     # refs: [$t7 => #7]
     # #7
     #   <no edges>
     # #root
     #   => #7 via [local `arg1`] at line 17
     #
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t0, $t6
     # refs: [$t6 => #6]
     # #6
     #   <no edges>
     # #root
     #   => #6 via [local `arg1`, field `inner`] at line 17
     #
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t0, $t8
     # refs: [$t8 => #8]
     # #8
     #   <no edges>
     # #root
     #   => #8 via [local `arg1`, field `inner`, field `value`] at line 17
     #
  3: $t5 := read_ref($t8)
     # live vars: $t0, $t5
     # refs: []
     #
  4: $t11 := borrow_local($t0)
     # live vars: $t5, $t11
     # refs: [$t11 => #11]
     # #11
     #   <no edges>
     # #root
     #   => #11 via [local `arg1`] at line 17
     #
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
     # live vars: $t5, $t10
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   => #10 via [local `arg1`, field `inner`] at line 17
     #
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
     # live vars: $t5, $t12
     # refs: [$t12 => #12]
     # #12
     #   <no edges>
     # #root
     #   => #12 via [local `arg1`, field `inner`, field `value`] at line 17
     #
  7: $t9 := read_ref($t12)
     # live vars: $t5, $t9
     # refs: []
     #
  8: $t4 := +($t5, $t9)
     # live vars: $t4
     # refs: []
     #
  9: return $t4
}

============ after ReachingDefProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner
     var $t11: &0x99::FiledAccess::Outer
     var $t12: &u64
     # live vars: $t0, $t1, $t2, $t3
     # reaching instruction #0:
     # refs: []
     #
  0: $t7 := borrow_local($t0)
     # live vars: $t0, $t7
     # reaching instruction #1: `t7` @ {0}
     # refs: [$t7 => #7]
     # #7
     #   <no edges>
     # #root
     #   => #7 via [local `arg1`] at line 17
     #
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t0, $t6
     # reaching instruction #2: `t6` @ {1}, `t7` @ {0}
     # refs: [$t6 => #6]
     # #6
     #   <no edges>
     # #root
     #   => #6 via [local `arg1`, field `inner`] at line 17
     #
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t0, $t8
     # reaching instruction #3: `t6` @ {1}, `t7` @ {0}, `t8` @ {2}
     # refs: [$t8 => #8]
     # #8
     #   <no edges>
     # #root
     #   => #8 via [local `arg1`, field `inner`, field `value`] at line 17
     #
  3: $t5 := read_ref($t8)
     # live vars: $t0, $t5
     # reaching instruction #4: `t5` @ {3}, `t6` @ {1}, `t7` @ {0}, `t8` @ {2}
     # refs: []
     #
  4: $t11 := borrow_local($t0)
     # live vars: $t5, $t11
     # reaching instruction #5: `t5` @ {3}, `t6` @ {1}, `t7` @ {0}, `t8` @ {2}, `t11` @ {4}
     # refs: [$t11 => #11]
     # #11
     #   <no edges>
     # #root
     #   => #11 via [local `arg1`] at line 17
     #
  5: $t10 := borrow_field<0x99::FiledAccess::Outer>.inner($t11)
     # live vars: $t5, $t10
     # reaching instruction #6: `t5` @ {3}, `t6` @ {1}, `t7` @ {0}, `t8` @ {2}, `t10` @ {5}, `t11` @ {4}
     # refs: [$t10 => #10]
     # #10
     #   <no edges>
     # #root
     #   => #10 via [local `arg1`, field `inner`] at line 17
     #
  6: $t12 := borrow_field<0x99::FiledAccess::Inner>.value($t10)
     # live vars: $t5, $t12
     # reaching instruction #7: `t5` @ {3}, `t6` @ {1}, `t7` @ {0}, `t8` @ {2}, `t10` @ {5}, `t11` @ {4}, `t12` @ {6}
     # refs: [$t12 => #12]
     # #12
     #   <no edges>
     # #root
     #   => #12 via [local `arg1`, field `inner`, field `value`] at line 17
     #
  7: $t9 := read_ref($t12)
     # live vars: $t5, $t9
     # reaching instruction #8: `t5` @ {3}, `t6` @ {1}, `t7` @ {0}, `t8` @ {2}, `t9` @ {7}, `t10` @ {5}, `t11` @ {4}, `t12` @ {6}
     # refs: []
     #
  8: $t4 := +($t5, $t9)
     # live vars: $t4
     # reaching instruction #9: `t4` @ {8}, `t5` @ {3}, `t6` @ {1}, `t7` @ {0}, `t8` @ {2}, `t9` @ {7}, `t10` @ {5}, `t11` @ {4}, `t12` @ {6}
     # refs: []
     #
  9: return $t4
}

============ after CommonSubexpElimination: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t5 := dup($t5)
  5: $t9 := dup($t5)
  6: $t4 := +($t5, $t9)
  7: return $t4
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
     # live vars: $t0, $t1, $t2, $t3
  0: $t7 := borrow_local($t0)
     # live vars: $t7
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t6
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t8
  3: $t5 := read_ref($t8)
     # live vars: $t5
  4: $t5 := dup($t5)
     # live vars: $t5
  5: $t9 := dup($t5)
     # live vars: $t5, $t9
  6: $t4 := +($t5, $t9)
     # live vars: $t4
  7: return $t4
}

============ after ReferenceSafetyProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
     # live vars: $t0, $t1, $t2, $t3
     # refs: []
     #
  0: $t7 := borrow_local($t0)
     # live vars: $t7
     # refs: [$t7 => #7]
     # #7
     #   <no edges>
     # #root
     #   => #7 via [local `arg1`] at line 17
     #
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t6
     # refs: [$t6 => #6]
     # #6
     #   <no edges>
     # #root
     #   => #6 via [local `arg1`, field `inner`] at line 17
     #
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t8
     # refs: [$t8 => #8]
     # #8
     #   <no edges>
     # #root
     #   => #8 via [local `arg1`, field `inner`, field `value`] at line 17
     #
  3: $t5 := read_ref($t8)
     # live vars: $t5
     # refs: []
     #
  4: $t5 := dup($t5)
     # live vars: $t5
     # refs: []
     #
  5: $t9 := dup($t5)
     # live vars: $t5, $t9
     # refs: []
     #
  6: $t4 := +($t5, $t9)
     # live vars: $t4
     # refs: []
     #
  7: return $t4
}

============ after AbortAnalysisProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
     # abort state: {returns,aborts}
     # live vars: $t0, $t1, $t2, $t3
     # refs: []
     #
  0: $t7 := borrow_local($t0)
     # abort state: {returns,aborts}
     # live vars: $t7
     # refs: [$t7 => #7]
     # #7
     #   <no edges>
     # #root
     #   => #7 via [local `arg1`] at line 17
     #
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # abort state: {returns,aborts}
     # live vars: $t6
     # refs: [$t6 => #6]
     # #6
     #   <no edges>
     # #root
     #   => #6 via [local `arg1`, field `inner`] at line 17
     #
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # abort state: {returns,aborts}
     # live vars: $t8
     # refs: [$t8 => #8]
     # #8
     #   <no edges>
     # #root
     #   => #8 via [local `arg1`, field `inner`, field `value`] at line 17
     #
  3: $t5 := read_ref($t8)
     # abort state: {returns,aborts}
     # live vars: $t5
     # refs: []
     #
  4: $t5 := dup($t5)
     # abort state: {returns,aborts}
     # live vars: $t5
     # refs: []
     #
  5: $t9 := dup($t5)
     # abort state: {returns,aborts}
     # live vars: $t5, $t9
     # refs: []
     #
  6: $t4 := +($t5, $t9)
     # abort state: {returns}
     # live vars: $t4
     # refs: []
     #
  7: return $t4
}

============ after AbilityProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t5 := dup($t5)
  5: $t9 := dup($t5)
  6: $t4 := +($t5, $t9)
  7: return $t4
}

============ after ControlFlowGraphSimplifier: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t5 := dup($t5)
  5: $t9 := dup($t5)
  6: $t4 := +($t5, $t9)
  7: return $t4
}

============ after SplitCriticalEdgesProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t5 := dup($t5)
  5: $t9 := dup($t5)
  6: $t4 := +($t5, $t9)
  7: return $t4
}

============ after UnreachableCodeProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
     # maybe
  0: $t7 := borrow_local($t0)
     # maybe
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # maybe
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # maybe
  3: $t5 := read_ref($t8)
     # maybe
  4: $t5 := dup($t5)
     # maybe
  5: $t9 := dup($t5)
     # maybe
  6: $t4 := +($t5, $t9)
     # maybe
  7: return $t4
}

============ after UnreachableCodeRemover: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t5 := dup($t5)
  5: $t9 := dup($t5)
  6: $t4 := +($t5, $t9)
  7: return $t4
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
     # live vars: $t0, $t1, $t2, $t3
  0: $t7 := borrow_local($t0)
     # live vars: $t7
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t6
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t8
  3: $t5 := read_ref($t8)
     # live vars: $t5
  4: $t5 := dup($t5)
     # live vars: $t5
  5: $t9 := dup($t5)
     # live vars: $t5, $t9
  6: $t4 := +($t5, $t9)
     # live vars: $t4
  7: return $t4
}

============ after DeadStoreElimination: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t5 := read_ref($t8)
  4: $t5 := dup($t5)
  5: $t9 := dup($t5)
  6: $t4 := +($t5, $t9)
  7: return $t4
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64
     var $t5: u64
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
     # live vars: $t0, $t1, $t2, $t3
  0: $t7 := borrow_local($t0)
     # live vars: $t7
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t6
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t8
  3: $t5 := read_ref($t8)
     # live vars: $t5
  4: $t5 := dup($t5)
     # live vars: $t5
  5: $t9 := dup($t5)
     # live vars: $t5, $t9
  6: $t4 := +($t5, $t9)
     # live vars: $t4
  7: return $t4
}

============ after VariableCoalescingTransformer: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64 [unused]
     var $t5: u64 [unused]
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64 [unused]
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t1 := read_ref($t8)
  4: $t1 := dup($t1)
  5: $t2 := dup($t1)
  6: $t1 := +($t1, $t2)
  7: return $t1
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64 [unused]
     var $t5: u64 [unused]
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64 [unused]
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
     # live vars: $t0, $t1, $t2, $t3
  0: $t7 := borrow_local($t0)
     # live vars: $t7
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t6
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t8
  3: $t1 := read_ref($t8)
     # live vars: $t1
  4: $t1 := dup($t1)
     # live vars: $t1
  5: $t2 := dup($t1)
     # live vars: $t1, $t2
  6: $t1 := +($t1, $t2)
     # live vars: $t1
  7: return $t1
}

============ after DeadStoreElimination: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64 [unused]
     var $t5: u64 [unused]
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64 [unused]
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
  0: $t7 := borrow_local($t0)
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
  3: $t1 := read_ref($t8)
  4: $t1 := dup($t1)
  5: $t2 := dup($t1)
  6: $t1 := +($t1, $t2)
  7: return $t1
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64 [unused]
     var $t5: u64 [unused]
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64 [unused]
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
     # live vars: $t0, $t1, $t2, $t3
  0: $t7 := borrow_local($t0)
     # live vars: $t7
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t6
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # live vars: $t8
  3: $t1 := read_ref($t8)
     # live vars: $t1
  4: $t1 := dup($t1)
     # live vars: $t1
  5: $t2 := dup($t1)
     # live vars: $t1, $t2
  6: $t1 := +($t1, $t2)
     # live vars: $t1
  7: return $t1
}

============ after FlushWritesProcessor: ================

[variant baseline]
fun FiledAccess::test_field_access($t0: 0x99::FiledAccess::Outer, $t1: u64, $t2: u64, $t3: u64): u64 {
     var $t4: u64 [unused]
     var $t5: u64 [unused]
     var $t6: &0x99::FiledAccess::Inner
     var $t7: &0x99::FiledAccess::Outer
     var $t8: &u64
     var $t9: u64 [unused]
     var $t10: &0x99::FiledAccess::Inner [unused]
     var $t11: &0x99::FiledAccess::Outer [unused]
     var $t12: &u64 [unused]
     # live vars: $t0, $t1, $t2, $t3
  0: $t7 := borrow_local($t0)
     # live vars: $t7
  1: $t6 := borrow_field<0x99::FiledAccess::Outer>.inner($t7)
     # live vars: $t6
  2: $t8 := borrow_field<0x99::FiledAccess::Inner>.value($t6)
     # flush: $t1
     # live vars: $t8
  3: $t1 := read_ref($t8)
     # flush: $t1
     # live vars: $t1
  4: $t1 := dup($t1)
     # live vars: $t1
  5: $t2 := dup($t1)
     # live vars: $t1, $t2
  6: $t1 := +($t1, $t2)
     # live vars: $t1
  7: return $t1
}


============ disassembled file-format ==================
// Bytecode version v9
module 0x99::FiledAccess
struct Inner has copy + drop
  value: u64

struct Outer has copy + drop
  inner: Inner

// Function definition at index 0
fun test_field_access(l0: Outer, l1: u64, l2: u64, l3: u64): u64
    borrow_loc l0
    borrow_field Outer, inner
    borrow_field Inner, value
    read_ref
    st_loc l1
    // @5
    copy_loc l1
    copy_loc l1
    add
    ret


============ bytecode verification succeeded ========
