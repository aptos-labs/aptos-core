//**** Cross-compiled for `move` syntax from `tests/inlining/resources.move`

//# publish
module 0x42::M {
    struct R has key {
        f: u64,
    }
    public fun test_resource(p0: &signer)
        acquires R
    {
        let _t3 = R{f: 1};
        move_to<R>(p0, _t3);
        if (!(*&borrow_global<R>(@0x42).f == 1)) abort 1;
    }
}


//# run --signers 0x42
script {
    use 0x42::M;
    fun main(p0: signer) {
        M::test_resource(&p0);
    }
}
