//**** Cross-compiled for `move` syntax from `tests/no-v1-comparison/match_extensions/mixed_guard_no_leak.move`

//# publish
module 0xc0ffee::m {
    enum Data has copy, drop {
        V1 {
            z: u64,
        }
        V2 {
            z: u64,
        }
    }
    fun mixed_no_leak(p0: &Data, p1: u64, p2: u64): u64 {
        let _v0;
        if (p0 is V1) _v0 = &p0.z;
        p2
    }
    fun mixed_no_leak_multi(p0: &Data, p1: u64, p2: u64): u64 {
        let _v0;
        if (p0 is V1) _v0 = &p0.z;
        if (p0 is V2) {
            let _v1 = *&p0.z;
            return p2 + _v1
        };
        p2
    }
    public fun test_multi_v1(): u64 {
        let _v0 = Data::V1{z: 5};
        mixed_no_leak_multi(&_v0, 10, 20)
    }
    public fun test_multi_v2(): u64 {
        let _v0 = Data::V2{z: 3};
        mixed_no_leak_multi(&_v0, 10, 20)
    }
    public fun test_v1_fallthrough(): u64 {
        let _v0 = Data::V1{z: 5};
        mixed_no_leak(&_v0, 10, 20)
    }
    public fun test_v2_fallthrough(): u64 {
        let _v0 = Data::V2{z: 3};
        mixed_no_leak(&_v0, 10, 20)
    }
}


//# run 0xc0ffee::m::test_v1_fallthrough

//# run 0xc0ffee::m::test_v2_fallthrough

//# run 0xc0ffee::m::test_multi_v1

//# run 0xc0ffee::m::test_multi_v2