//**** Cross-compiled for `move` syntax from `tests/no-v1-comparison/closures/resolve_from_storage.move`

//# publish
module 0x66::test {
    struct Func has key {
        f: ||(u64) has copy + store,
    }
    public fun init(p0: &signer) {
        let _v0 = Func{f: || identity<u64>(23)};
        move_to<Func>(p0, _v0);
    }
    public fun identity<T0>(p0: T0): T0 {
        p0
    }
    public fun call(p0: address)
        acquires Func
    {
        let _v0 = *&borrow_global<Func>(p0).f;
        assert!(_v0() == 23, 777);
    }
}


//# run 0x66::test::init --signers 0x66

//# run 0x66::test::call --args @0x66