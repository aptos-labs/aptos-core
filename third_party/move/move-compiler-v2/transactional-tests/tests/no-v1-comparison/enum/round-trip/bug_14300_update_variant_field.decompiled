//**** Cross-compiled for `move` syntax from `tests/no-v1-comparison/enum/bug_14300_update_variant_field.move`

//# publish
module 0x815::m {
    enum CommonFields has drop {
        Foo {
            x: u64,
            y: u8,
        }
        Bar {
            x: u64,
            y: u8,
            z: u32,
        }
        Baz {
            y: u8,
        }
    }
    fun update_common_field(): u64 {
        let _v0 = CommonFields::Bar{x: 30, y: 40u8, z: 50u32};
        let _v1 = &mut (&mut _v0).x;
        *_v1 = 15;
        *&(&_v0).x
    }
    fun update_common_field_different_offset(): u8 {
        let _v0;
        let _v1;
        let _v2 = CommonFields::Bar{x: 30, y: 40u8, z: 50u32};
        let _v3 = &mut _v2;
        if ((_v3 is Foo) || (_v3 is Bar)) _v1 = &mut _v3.y else _v1 = &mut _v3.y;
        *_v1 = 15u8;
        let _v4 = &_v2;
        if ((_v4 is Foo) || (_v4 is Bar)) _v0 = &_v4.y else _v0 = &_v4.y;
        *_v0
    }
    fun update_non_common_field(): u32 {
        let _v0 = CommonFields::Bar{x: 30, y: 40u8, z: 50u32};
        let _v1 = &mut (&mut _v0).z;
        *_v1 = 15u32;
        *&(&_v0).z
    }
}


//# run 0x815::m::update_common_field

//# run 0x815::m::update_non_common_field

//# run 0x815::m::update_common_field_different_offset