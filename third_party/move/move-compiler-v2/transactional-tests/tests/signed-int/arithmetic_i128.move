//# run --verbose
script {
  fun main() {
    assert!(0i128 + 0i128 == 0i128, 1000);
    assert!(0i128 + 1i128 == 1i128, 1001);
    assert!(1i128 + 1i128 == 2i128, 1002);
    assert!(0i128 + -1i128 == -1i128, 1003);
    assert!(-1i128 + -1i128 == -2i128, 1004);

    assert!(13i128 + 67i128 == 80i128, 1100);
    assert!(100i128 + 10i128 == 110i128, 1101);
    assert!(-13i128 + -67i128 == -80i128, 1102);
    assert!(-100i128 + -10i128 == -110i128, 1103);

    assert!(0i128 + 170141183460469231731687303715884105727i128
            == 170141183460469231731687303715884105727i128, 1200);
    assert!(1i128 + 170141183460469231731687303715884105726i128
            == 170141183460469231731687303715884105727i128, 1201);
    assert!(5i128 + 170141183460469231731687303715884105722i128
            == 170141183460469231731687303715884105727i128, 1202);
    assert!(0i128 + -170141183460469231731687303715884105728i128
            == -170141183460469231731687303715884105728i128, 1203);
    assert!(-1i128 + -170141183460469231731687303715884105727i128
            == -170141183460469231731687303715884105728i128, 1204);
    assert!(-5i128 + -170141183460469231731687303715884105723i128
            == -170141183460469231731687303715884105728i128, 1205);
  }
}

//# run --verbose
script {
  fun main() {
    1i128 + 170141183460469231731687303715884105727i128; // expect to abort
  }
}

//# run --verbose
script {
  fun main() {
    -1i128 + (-170141183460469231731687303715884105728i128); // expect to abort
  }
}

//# run --verbose
script {
fun main() {
    assert!(0i128 - 0i128 == 0i128, 2000);
    assert!(1i128 - 0i128 == 1i128, 2001);
    assert!(1i128 - 1i128 == 0i128, 2002);
    assert!(-1i128 - -0i128 == -1i128, 2003);
    assert!(-1i128 - -1i128 == 0i128, 2004);

    assert!(52i128 - 13i128 == 39i128, 2100);
    assert!(100i128 - 10i128 == 90i128, 2101);
    assert!(-52i128 - -13i128 == -39i128, 2102);
    assert!(-100i128 - -10i128 == -90i128, 2103);

    assert!(0i128 - -170141183460469231731687303715884105727i128
            == 170141183460469231731687303715884105727i128, 2200);
    assert!(1i128 - -170141183460469231731687303715884105726i128
            == 170141183460469231731687303715884105727i128, 2201);
    assert!(5i128 - -170141183460469231731687303715884105722i128
            == 170141183460469231731687303715884105727i128, 2202);
    assert!(-1i128 - 170141183460469231731687303715884105727i128
            == -170141183460469231731687303715884105728i128, 2203);
    assert!(-5i128 - 170141183460469231731687303715884105723i128
            == -170141183460469231731687303715884105728i128, 2204);
    assert!(-170141183460469231731687303715884105728i128 - 0 ==
            -170141183460469231731687303715884105728i128, 2205);
}
}

//# run --verbose
script {
  fun main() {
    -2i128 - 170141183460469231731687303715884105727i128; // expect to abort
  }
}

//# run --verbose
script {
  fun main() {
    1i128 - -170141183460469231731687303715884105727i128; // expect to abort
  }
}

//# run --verbose
script {
fun main() {
    assert!(6i128 * 7i128 == 42i128, 3100);
    assert!(10i128 * 10i128 == 100i128, 3101);
    assert!(-6i128 * 7i128 == -42i128, 3102);
    assert!(-10i128 * -10i128 == 100i128, 3103);

    assert!(1i128 * 170141183460469231731687303715884105727i128
            == 170141183460469231731687303715884105727i128, 3200);
    assert!(-1i128 * -170141183460469231731687303715884105727i128
            == 170141183460469231731687303715884105727i128, 3201);
    assert!(1i128 * -170141183460469231731687303715884105728i128
            == -170141183460469231731687303715884105728i128, 3202);
}
}

//# run --verbose
script {
fun main() {
    13043817825332782213i128 * 13043817825332782213i128; // expect to abort
}
}

//# run --verbose
script {
fun main() {
    170141183460469231731687303715884105727i128 * 2i128; // expect to abort
}
}


//# run --verbose
script {
fun main() {
    -170141183460469231731687303715884105728i128 * -1i128; // expect to abort
}
}

//# run --verbose
script {
fun main() {
    assert!(6i128 / 3i128 == 2i128, 4100);
    assert!(170141183460469231731687303715884105727i128 / 7i128
            == 24305883351495604533098186245126300818i128, 4101);
    assert!(-170141183460469231731687303715884105727i128 / 7i128
            == -24305883351495604533098186245126300818i128, 4102);
}
}

//# run --verbose
script {
fun main() {
    1i128 / 0i128; // expect to abort
}
}

//# run --verbose
script {
fun main() {
    -170141183460469231731687303715884105728i128 / -1i128; // expect to abort
}
}

//# run --verbose
script {
fun main() {
    assert!(8i128 % 3i128 == 2i128, 5100);
    assert!(170141183460469231731687303715884105727i128 % 7i128 == 1i128, 5101);
    assert!(-170141183460469231731687303715884105727i128 % 7i128 == -1i128, 5102);
}
}

//# run --verbose
script {
fun main() {
    1i128 % 0i128; // expect to abort
}
}

//# publish
module 0xff::negate_i128 {
  fun negate(a: i128): i128 {
    -a
  }
  public fun test1(){
    let a = 20i128;
    assert!(-a == negate(a));
  }
  public fun test2(){
    let a = -170141183460469231731687303715884105728i128;
    negate(a); // expect abort
  }
}

//# run 0xff::negate_i128::test1 --verbose

//# run 0xff::negate_i128::test2 --verbose
