//**** Cross-compiled for `move` syntax from `tests/misc/drop_ref_in_branch.move`

//# publish
module 0x42::m {
    struct R has key {
        v: u64,
    }
    fun do()
        acquires R
    {
        let _v0 = borrow_global_mut<R>(@0x42);
        let _v1 = get_vmut(_v0);
        if (*_v1 > 0) *_v1 = 0 else some(_v0);
    }
    fun get_vmut(p0: &mut R): &mut u64 {
        &mut p0.v
    }
    fun some(p0: &mut R) {
        ()
    }
}
