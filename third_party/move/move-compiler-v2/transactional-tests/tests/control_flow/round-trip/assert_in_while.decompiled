//**** Cross-compiled for `move` syntax from `tests/control_flow/assert_in_while.move`

//# publish
module 0x42::Test {
    struct Tester has drop {
        f: u64,
    }
    public fun len(p0: &Tester): u64 {
        *&p0.f
    }
    public fun modify(p0: &mut Tester): u64 {
        let _v0 = *&p0.f - 1;
        let _v1 = &mut p0.f;
        *_v1 = _v0;
        let _v2 = *&p0.f;
        9 - _v2
    }
    public fun new(): Tester {
        Tester{f: 10}
    }
}


//# run
script {
    use 0x42::Test;
    fun main() {
        let _v0 = Test::new();
        assert!(Test::len(&_v0) == 10, 70002);
        let _v1 = 0;
        'l0: loop {
            loop {
                let _v2 = Test::len(&_v0);
                if (!(_v1 < _v2)) break 'l0;
                if (!(Test::modify(&mut _v0) == _v1)) break;
                _v1 = _v1 + 1;
                continue
            };
            abort 70003
        };
    }
}
