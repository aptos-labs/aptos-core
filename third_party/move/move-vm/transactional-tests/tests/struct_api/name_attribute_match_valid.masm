//# publish --print-bytecode
module 0x66::test_name_attribute_match

struct Point
    x: u64
    y: u64

enum Color has drop
    Red
    Green
    Blue

// Test 1: Pack attribute with matching pack$S name - should be valid
#[pack] public fun pack$Point(l0: u64, l1: u64): Point
    move_loc l0
    move_loc l1
    pack Point
    ret

// Test 2: PackVariant attribute with matching pack$S$V name - should be valid
#[pack_variant(0)] public fun pack$Color$Red(): Color
    pack_variant Color, Red
    ret

// Test 3: Unpack attribute with matching unpack$S name - should be valid
#[unpack] public fun unpack$Point(l0: Point): (u64, u64)
    move_loc l0
    unpack Point
    ret

// Test 4: UnpackVariant attribute with matching unpack$S$V name - should be valid
#[unpack_variant(1)] public fun unpack$Color$Green(l0: Color)
    move_loc l0
    unpack_variant Color, Green
    ret

// Test 5: TestVariant attribute with matching test_variant$S$V name - should be valid
#[test_variant(2)] public fun test_variant$Color$Blue(l0: &Color): bool
    move_loc l0
    test_variant Color, Blue
    ret

// Test 6: BorrowFieldImmutable attribute with matching borrow$S$offset name - should be valid
#[borrow(0)] public fun borrow$Point$0(l0: &Point): &u64
    move_loc l0
    borrow_field Point, x
    ret

// Test 7: BorrowFieldMutable attribute with matching borrow_mut$S$offset name - should be valid
#[borrow_mut(1)] public fun borrow_mut$Point$1(l0: &mut Point): &mut u64
    move_loc l0
    mut_borrow_field Point, y
    ret
