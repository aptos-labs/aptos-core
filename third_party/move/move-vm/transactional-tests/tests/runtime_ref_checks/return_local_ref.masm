//# publish
module 0xc0ffee::return_test

// Test: Cannot return a reference to a local (not derived from parameter)
public fun test_return_local_ref(x_ref: &u64): &u64
    local y: u64
    local y_ref: &u64

    ld_u64 100
    st_loc y

    // Borrow local y
    borrow_loc y
    st_loc y_ref

    // Try to return reference to local y (should fail - not derived from parameter)
    move_loc y_ref
    ret

//# run 0xc0ffee::return_test::test_return_local_ref --args 0 --verbose
