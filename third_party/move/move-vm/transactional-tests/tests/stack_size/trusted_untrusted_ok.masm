//# publish
module 0x33::untrusted

public fun return_20_30(): (u64, u64)
    ld_u64 20
    ld_u64 30
    ret

//# publish
module 0x3::trusted

public fun sum_10_20_30(): u64
    ld_u64 10
    // stack size is 1
    call 0x33::untrusted::return_20_30
    // on return, stack size is 3
    add
    add
    ret

public fun sum_10_20_30_closure(): u64
    ld_u64 10
    // stack size is 1
    pack_closure 0x33::untrusted::return_20_30, 0
    call_closure<||(u64, u64)>
    // on return, stack size is 3
    add
    add
    ret


//# run --verbose 0x3::trusted::sum_10_20_30

//# run --verbose 0x3::trusted::sum_10_20_30_closure
