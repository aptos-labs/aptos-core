//# publish
module 0x22::A
struct C<T0>
  x: T0

public fun make<T0>(l0: T0): C<T0>
    move_loc l0
    pack C<T0>
    ret



//# publish
module 0x22::B
use 0x22::A
struct C
  x: u64

public fun mut_field()
    local l0: A::C<u64>
    local l1: &mut A::C<u64>
    local l2: &mut u64
    ld_u64 20
    call A::make<u64>
    st_loc l0
    mut_borrow_loc l0
    st_loc l1
    move_loc l1
    mut_borrow_field C, x
    st_loc l2
    ld_u64 10
    move_loc l2
    write_ref
    ret



//# run --signers 0x1
script
use 0x22::B
entry public fun main(l0: signer)
    call B::mut_field
    ret
