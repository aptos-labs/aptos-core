//# publish
module 0x42::M1
struct S<T0: copy>
  t: T0

public fun copy_inner<T0>(l0: &S<T0>): T0
    move_loc l0
    borrow_field S<T0>, t
    read_ref
    ret



//# publish
module 0x42::M2
struct S<T0: copy> has copy
  t: T0

public fun copy_direct<T0>(l0: &S<T0>): S<T0>
    move_loc l0
    read_ref
    ret



//# publish
module 0x42::M3
struct S<T0: store> has store
  t: T0

public fun store_inner<T0>(l0: &mut S<T0>, l1: T0)
    move_loc l1
    move_loc l0
    mut_borrow_field S<T0>, t
    write_ref
    ret



//# publish
module 0x42::M4
struct S<T0: copy>
  t: T0

public fun bad_sig<T0>(l0: &S<T0>)
    ret

public fun call(): S<u64>
    local l0: S<u64>
    ld_u64 10
    pack S<u64>
    st_loc l0
    borrow_loc l0
    call bad_sig
    move_loc l0
    ret



//# publish
module 0x42::M5
struct S<T0: copy>
  t: T0

public fun bad_sig<T0>(l0: &S<T0>)
    ret

public fun call(l0: signer): S<signer>
    local l1: S<signer>
    move_loc l0
    pack S<u64>
    st_loc l1
    borrow_loc l1
    call bad_sig
    move_loc l1
    ret