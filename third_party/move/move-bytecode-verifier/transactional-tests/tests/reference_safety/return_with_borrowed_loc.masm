//# publish
module 0x1::M
struct X has drop
  y: Y

struct Y has drop
  u: u64

fun t1()
    local l0: u64
    local l1: &u64
    ld_u64 0
    st_loc l0
    borrow_loc l0
    st_loc l1
    ret

fun t2()
    local l0: X
    local l1: &X
    local l2: &Y
    local l3: &u64
    ld_u64 0
    pack Y
    pack X
    st_loc l0
    borrow_loc l0
    st_loc l1
    copy_loc l1
    borrow_field X, y
    st_loc l2
    copy_loc l2
    borrow_field Y, u
    st_loc l3
    ret