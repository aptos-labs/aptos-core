//# publish
module 0x1::M
struct S
  g: u64

fun t1(l0: &mut S, l1: bool)
    local l2: u64
    local l3: u64
    local l4: &u64
    local l5: &mut u64
    local l6: &u64
    ld_u64 0
    st_loc l2
    ld_u64 1
    st_loc l3
    move_loc l1
    br_true l0
    borrow_loc l2
    st_loc l4
    branch l1
l0: copy_loc l0
    call bar
    st_loc l4
l1: move_loc l0
    mut_borrow_field S, g
    st_loc l5
    move_loc l5
    freeze_ref
    st_loc l6
    ret

fun bar(l0: &mut S): &u64
    move_loc l0
    borrow_field S, g
    ret