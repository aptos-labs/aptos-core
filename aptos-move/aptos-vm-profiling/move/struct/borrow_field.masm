module 0x1::M
struct Foo
  x: u64

fun run()
    local l0: u64
    local l1: u64
    local l2: &u64
    local l3: Foo
    ld_u64 0
    st_loc l0
l1: copy_loc l0
    ld_u64 1000
    lt
    br_false l0
    ld_u64 100
    pack Foo
    st_loc l3
    borrow_loc l3
    borrow_field Foo, x
    st_loc l2
    move_loc l2
    pop
    move_loc l3
    unpack Foo
    st_loc l1
    move_loc l0
    ld_u64 1
    add
    st_loc l0
    branch l1
l0: ret
