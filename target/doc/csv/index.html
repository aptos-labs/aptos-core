<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The `csv` crate provides a fast and flexible CSV reader and writer, with support for Serde."><meta name="keywords" content="rust, rustlang, rust-lang, csv"><title>csv - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../csv/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../csv/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate csv</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 1.1.6</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../csv/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">csv</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/csv/lib.rs.html#1-359">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The <code>csv</code> crate provides a fast and flexible CSV reader and writer, with
support for Serde.</p>
<p>The <a href="tutorial/index.html">tutorial</a> is a good place to start if you’re new to
Rust.</p>
<p>The <a href="cookbook/index.html">cookbook</a> will give you a variety of complete Rust
programs that do CSV reading and writing.</p>
<h2 id="brief-overview"><a href="#brief-overview">Brief overview</a></h2>
<p><strong>If you’re new to Rust</strong>, you might find the
<a href="tutorial/index.html">tutorial</a>
to be a good place to start.</p>
<p>The primary types in this crate are
<a href="struct.Reader.html"><code>Reader</code></a>
and
<a href="struct.Writer.html"><code>Writer</code></a>,
for reading and writing CSV data respectively.
Correspondingly, to support CSV data with custom field or record delimiters
(among many other things), you should use either a
<a href="struct.ReaderBuilder.html"><code>ReaderBuilder</code></a>
or a
<a href="struct.WriterBuilder.html"><code>WriterBuilder</code></a>,
depending on whether you’re reading or writing CSV data.</p>
<p>Unless you’re using Serde, the standard CSV record types are
<a href="struct.StringRecord.html"><code>StringRecord</code></a>
and
<a href="struct.ByteRecord.html"><code>ByteRecord</code></a>.
<code>StringRecord</code> should be used when you know your data to be valid UTF-8.
For data that may be invalid UTF-8, <code>ByteRecord</code> is suitable.</p>
<p>Finally, the set of errors is described by the
<a href="struct.Error.html"><code>Error</code></a>
type.</p>
<p>The rest of the types in this crate mostly correspond to more detailed errors,
position information, configuration knobs or iterator types.</p>
<h2 id="setup"><a href="#setup">Setup</a></h2>
<p>Add this to your <code>Cargo.toml</code>:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
csv = &quot;1.1&quot;</code></pre></div>
<p>If you want to use Serde’s custom derive functionality on your custom structs,
then add this to your <code>[dependencies]</code> section of <code>Cargo.toml</code>:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
serde = { version = &quot;1&quot;, features = [&quot;derive&quot;] }</code></pre></div><h2 id="example"><a href="#example">Example</a></h2>
<p>This example shows how to read CSV data from stdin and print each record to
stdout.</p>
<p>There are more examples in the <a href="cookbook/index.html">cookbook</a>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::error::Error</span>;
<span class="kw">use</span> <span class="ident">std::io</span>;
<span class="kw">use</span> <span class="ident">std::process</span>;

<span class="kw">fn</span> <span class="ident">example</span>() -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">Box</span><span class="op">&lt;</span><span class="kw">dyn</span> <span class="ident">Error</span><span class="op">&gt;</span><span class="op">&gt;</span> {
    <span class="comment">// Build the CSV reader and iterate over each record.</span>
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">rdr</span> <span class="op">=</span> <span class="ident">csv::Reader::from_reader</span>(<span class="ident">io::stdin</span>());
    <span class="kw">for</span> <span class="ident">result</span> <span class="kw">in</span> <span class="ident">rdr</span>.<span class="ident">records</span>() {
        <span class="comment">// The iterator yields Result&lt;StringRecord, Error&gt;, so we check the</span>
        <span class="comment">// error here.</span>
        <span class="kw">let</span> <span class="ident">record</span> <span class="op">=</span> <span class="ident">result</span><span class="question-mark">?</span>;
        <span class="macro">println!</span>(<span class="string">&quot;{:?}&quot;</span>, <span class="ident">record</span>);
    }
    <span class="prelude-val">Ok</span>(())
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Err</span>(<span class="ident">err</span>) <span class="op">=</span> <span class="ident">example</span>() {
        <span class="macro">println!</span>(<span class="string">&quot;error running example: {}&quot;</span>, <span class="ident">err</span>);
        <span class="ident">process::exit</span>(<span class="number">1</span>);
    }
}</code></pre></div>
<p>The above example can be run like so:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code>$ <span class="ident">git</span> <span class="ident">clone</span> <span class="ident">git</span>:<span class="comment">//github.com/BurntSushi/rust-csv</span>
$ <span class="ident">cd</span> <span class="ident">rust</span><span class="op">-</span><span class="ident">csv</span>
$ <span class="ident">cargo</span> <span class="ident">run</span> <span class="op">-</span><span class="op">-</span><span class="ident">example</span> <span class="ident">cookbook</span><span class="op">-</span><span class="ident">read</span><span class="op">-</span><span class="ident">basic</span> <span class="op">&lt;</span> <span class="ident">examples</span><span class="op">/</span><span class="ident">data</span><span class="op">/</span><span class="ident">smallpop</span>.<span class="ident">csv</span></code></pre></div>
<h2 id="example-with-serde"><a href="#example-with-serde">Example with Serde</a></h2>
<p>This example shows how to read CSV data from stdin into your own custom struct.
By default, the member names of the struct are matched with the values in the
header record of your CSV data.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::error::Error</span>;
<span class="kw">use</span> <span class="ident">std::io</span>;
<span class="kw">use</span> <span class="ident">std::process</span>;

<span class="kw">use</span> <span class="ident">serde::Deserialize</span>;

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Debug</span>, <span class="ident">Deserialize</span>)]</span>
<span class="kw">struct</span> <span class="ident">Record</span> {
    <span class="ident">city</span>: <span class="ident">String</span>,
    <span class="ident">region</span>: <span class="ident">String</span>,
    <span class="ident">country</span>: <span class="ident">String</span>,
    <span class="ident">population</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">u64</span><span class="op">&gt;</span>,
}

<span class="kw">fn</span> <span class="ident">example</span>() -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">Box</span><span class="op">&lt;</span><span class="kw">dyn</span> <span class="ident">Error</span><span class="op">&gt;</span><span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">rdr</span> <span class="op">=</span> <span class="ident">csv::Reader::from_reader</span>(<span class="ident">io::stdin</span>());
    <span class="kw">for</span> <span class="ident">result</span> <span class="kw">in</span> <span class="ident">rdr</span>.<span class="ident">deserialize</span>() {
        <span class="comment">// Notice that we need to provide a type hint for automatic</span>
        <span class="comment">// deserialization.</span>
        <span class="kw">let</span> <span class="ident">record</span>: <span class="ident">Record</span> <span class="op">=</span> <span class="ident">result</span><span class="question-mark">?</span>;
        <span class="macro">println!</span>(<span class="string">&quot;{:?}&quot;</span>, <span class="ident">record</span>);
    }
    <span class="prelude-val">Ok</span>(())
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Err</span>(<span class="ident">err</span>) <span class="op">=</span> <span class="ident">example</span>() {
        <span class="macro">println!</span>(<span class="string">&quot;error running example: {}&quot;</span>, <span class="ident">err</span>);
        <span class="ident">process::exit</span>(<span class="number">1</span>);
    }
}</code></pre></div>
<p>The above example can be run like so:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code>$ <span class="ident">git</span> <span class="ident">clone</span> <span class="ident">git</span>:<span class="comment">//github.com/BurntSushi/rust-csv</span>
$ <span class="ident">cd</span> <span class="ident">rust</span><span class="op">-</span><span class="ident">csv</span>
$ <span class="ident">cargo</span> <span class="ident">run</span> <span class="op">-</span><span class="op">-</span><span class="ident">example</span> <span class="ident">cookbook</span><span class="op">-</span><span class="ident">read</span><span class="op">-</span><span class="ident">serde</span> <span class="op">&lt;</span> <span class="ident">examples</span><span class="op">/</span><span class="ident">data</span><span class="op">/</span><span class="ident">smallpop</span>.<span class="ident">csv</span></code></pre></div>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="cookbook/index.html" title="csv::cookbook mod">cookbook</a></div><div class="item-right docblock-short"><p>A cookbook of examples for CSV reading and writing.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="tutorial/index.html" title="csv::tutorial mod">tutorial</a></div><div class="item-right docblock-short"><p>A tutorial for handling CSV data in Rust.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ByteRecord.html" title="csv::ByteRecord struct">ByteRecord</a></div><div class="item-right docblock-short"><p>A single CSV record stored as raw bytes.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ByteRecordIter.html" title="csv::ByteRecordIter struct">ByteRecordIter</a></div><div class="item-right docblock-short"><p>A double-ended iterator over the fields in a byte record.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ByteRecordsIntoIter.html" title="csv::ByteRecordsIntoIter struct">ByteRecordsIntoIter</a></div><div class="item-right docblock-short"><p>An owned iterator over records as raw bytes.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ByteRecordsIter.html" title="csv::ByteRecordsIter struct">ByteRecordsIter</a></div><div class="item-right docblock-short"><p>A borrowed iterator over records as raw bytes.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DeserializeError.html" title="csv::DeserializeError struct">DeserializeError</a></div><div class="item-right docblock-short"><p>An Serde deserialization error.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DeserializeRecordsIntoIter.html" title="csv::DeserializeRecordsIntoIter struct">DeserializeRecordsIntoIter</a></div><div class="item-right docblock-short"><p>An owned iterator over deserialized records.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DeserializeRecordsIter.html" title="csv::DeserializeRecordsIter struct">DeserializeRecordsIter</a></div><div class="item-right docblock-short"><p>A borrowed iterator over deserialized records.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Error.html" title="csv::Error struct">Error</a></div><div class="item-right docblock-short"><p>An error that can occur when processing CSV data.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FromUtf8Error.html" title="csv::FromUtf8Error struct">FromUtf8Error</a></div><div class="item-right docblock-short"><p>A UTF-8 validation error during record conversion.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.IntoInnerError.html" title="csv::IntoInnerError struct">IntoInnerError</a></div><div class="item-right docblock-short"><p><code>IntoInnerError</code> occurs when consuming a <code>Writer</code> fails.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Position.html" title="csv::Position struct">Position</a></div><div class="item-right docblock-short"><p>A position in CSV data.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Reader.html" title="csv::Reader struct">Reader</a></div><div class="item-right docblock-short"><p>A already configured CSV reader.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ReaderBuilder.html" title="csv::ReaderBuilder struct">ReaderBuilder</a></div><div class="item-right docblock-short"><p>Builds a CSV reader with various configuration knobs.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StringRecord.html" title="csv::StringRecord struct">StringRecord</a></div><div class="item-right docblock-short"><p>A single CSV record stored as valid UTF-8 bytes.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StringRecordIter.html" title="csv::StringRecordIter struct">StringRecordIter</a></div><div class="item-right docblock-short"><p>An iterator over the fields in a string record.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StringRecordsIntoIter.html" title="csv::StringRecordsIntoIter struct">StringRecordsIntoIter</a></div><div class="item-right docblock-short"><p>An owned iterator over records as strings.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StringRecordsIter.html" title="csv::StringRecordsIter struct">StringRecordsIter</a></div><div class="item-right docblock-short"><p>A borrowed iterator over records as strings.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Utf8Error.html" title="csv::Utf8Error struct">Utf8Error</a></div><div class="item-right docblock-short"><p>A UTF-8 validation error.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Writer.html" title="csv::Writer struct">Writer</a></div><div class="item-right docblock-short"><p>A already configured CSV writer.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.WriterBuilder.html" title="csv::WriterBuilder struct">WriterBuilder</a></div><div class="item-right docblock-short"><p>Builds a CSV writer with various configuration knobs.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DeserializeErrorKind.html" title="csv::DeserializeErrorKind enum">DeserializeErrorKind</a></div><div class="item-right docblock-short"><p>The type of a Serde deserialization error.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ErrorKind.html" title="csv::ErrorKind enum">ErrorKind</a></div><div class="item-right docblock-short"><p>The specific type of an error.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.QuoteStyle.html" title="csv::QuoteStyle enum">QuoteStyle</a></div><div class="item-right docblock-short"><p>The quoting style to use when writing CSV data.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Terminator.html" title="csv::Terminator enum">Terminator</a></div><div class="item-right docblock-short"><p>A record terminator.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Trim.html" title="csv::Trim enum">Trim</a></div><div class="item-right docblock-short"><p>The whitespace preservation behaviour when reading CSV data.</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.invalid_option.html" title="csv::invalid_option fn">invalid_option</a></div><div class="item-right docblock-short"><p>A custom Serde deserializer for possibly invalid <code>Option&lt;T&gt;</code> fields.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Result.html" title="csv::Result type">Result</a></div><div class="item-right docblock-short"><p>A type alias for <code>Result&lt;T, csv::Error&gt;</code>.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="csv" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>